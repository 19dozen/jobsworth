<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Module: ReportsHelper</title>

	<link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="module">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="./app/helpers/reports_helper_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="app/helpers/reports_helper.rb">app/helpers/reports_helper.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-i-client_select">#client_select</a></li>
					
					<li><a href="#method-i-display_select">#display_select</a></li>
					
					<li><a href="#method-i-project_select">#project_select</a></li>
					
					<li><a href="#method-i-report_task_filter">#report_task_filter</a></li>
					
					<li><a href="#method-i-show_advanced%3F">#show_advanced?</a></li>
					
					<li><a href="#method-i-sorted_projects">#sorted_projects</a></li>
					
					<li><a href="#method-i-timesheet_field_style">#timesheet_field_style</a></li>
					
					<li><a href="#method-i-total_amount_worked">#total_amount_worked</a></li>
					
					<li><a href="#method-i-total_task_worked">#total_task_worked</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="./LICENSE.html">LICENSE</a></li>
				
					<li class="file"><a href="./NOTICE.html">NOTICE</a></li>
				
					<li class="file"><a href="./README_rdoc.html">README.rdoc</a></li>
				
					<li class="file"><a href="./RELEASE-NOTES.html">RELEASE-NOTES</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./ActionController.html">ActionController</a></li>
				
					<li><a href="./ActionController/Caching.html">ActionController::Caching</a></li>
				
					<li><a href="./ActionController/Caching/Fragments.html">ActionController::Caching::Fragments</a></li>
				
					<li><a href="./ActionView.html">ActionView</a></li>
				
					<li><a href="./ActionView/Helpers.html">ActionView::Helpers</a></li>
				
					<li><a href="./ActionView/Helpers/DateHelper.html">ActionView::Helpers::DateHelper</a></li>
				
					<li><a href="./ActiveSupport.html">ActiveSupport</a></li>
				
					<li><a href="./ActiveSupport/Cache.html">ActiveSupport::Cache</a></li>
				
					<li><a href="./ActiveSupport/Cache/FileStore.html">ActiveSupport::Cache::FileStore</a></li>
				
					<li><a href="./ActiveRecord.html">ActiveRecord</a></li>
				
					<li><a href="./ActiveRecord/Base.html">ActiveRecord::Base</a></li>
				
					<li><a href="./AbstractTask.html">AbstractTask</a></li>
				
					<li><a href="./AccessLevel.html">AccessLevel</a></li>
				
					<li><a href="./ActivitiesController.html">ActivitiesController</a></li>
				
					<li><a href="./ActivitiesHelper.html">ActivitiesHelper</a></li>
				
					<li><a href="./AdminController.html">AdminController</a></li>
				
					<li><a href="./AdminHelper.html">AdminHelper</a></li>
				
					<li><a href="./ApiController.html">ApiController</a></li>
				
					<li><a href="./ApiHelper.html">ApiHelper</a></li>
				
					<li><a href="./ApplicationController.html">ApplicationController</a></li>
				
					<li><a href="./ApplicationHelper.html">ApplicationHelper</a></li>
				
					<li><a href="./ClientsController.html">ClientsController</a></li>
				
					<li><a href="./ClientsHelper.html">ClientsHelper</a></li>
				
					<li><a href="./CompaniesController.html">CompaniesController</a></li>
				
					<li><a href="./CompaniesHelper.html">CompaniesHelper</a></li>
				
					<li><a href="./Company.html">Company</a></li>
				
					<li><a href="./CustomAttribute.html">CustomAttribute</a></li>
				
					<li><a href="./CustomAttributeChoice.html">CustomAttributeChoice</a></li>
				
					<li><a href="./CustomAttributeMethods.html">CustomAttributeMethods</a></li>
				
					<li><a href="./CustomAttributeValue.html">CustomAttributeValue</a></li>
				
					<li><a href="./CustomAttributesController.html">CustomAttributesController</a></li>
				
					<li><a href="./CustomAttributesHelper.html">CustomAttributesHelper</a></li>
				
					<li><a href="./Customer.html">Customer</a></li>
				
					<li><a href="./Date.html">Date</a></li>
				
					<li><a href="./DateAndTimeHelper.html">DateAndTimeHelper</a></li>
				
					<li><a href="./Email.html">Email</a></li>
				
					<li><a href="./EmailAddress.html">EmailAddress</a></li>
				
					<li><a href="./EventLog.html">EventLog</a></li>
				
					<li><a href="./FeedsController.html">FeedsController</a></li>
				
					<li><a href="./FeedsHelper.html">FeedsHelper</a></li>
				
					<li><a href="./Forum.html">Forum</a></li>
				
					<li><a href="./ForumsController.html">ForumsController</a></li>
				
					<li><a href="./ForumsHelper.html">ForumsHelper</a></li>
				
					<li><a href="./GeneratedReport.html">GeneratedReport</a></li>
				
					<li><a href="./IcalEntry.html">IcalEntry</a></li>
				
					<li><a href="./Keyword.html">Keyword</a></li>
				
					<li><a href="./Locale.html">Locale</a></li>
				
					<li><a href="./LocalesController.html">LocalesController</a></li>
				
					<li><a href="./LocalesHelper.html">LocalesHelper</a></li>
				
					<li><a href="./Localization.html">Localization</a></li>
				
					<li><a href="./LoginController.html">LoginController</a></li>
				
					<li><a href="./LoginHelper.html">LoginHelper</a></li>
				
					<li><a href="./Mailman.html">Mailman</a></li>
				
					<li><a href="./MigrationHelpers.html">MigrationHelpers</a></li>
				
					<li><a href="./Milestone.html">Milestone</a></li>
				
					<li><a href="./MilestonesController.html">MilestonesController</a></li>
				
					<li><a href="./MilestonesHelper.html">MilestonesHelper</a></li>
				
					<li><a href="./Misc.html">Misc</a></li>
				
					<li><a href="./ModeratorsController.html">ModeratorsController</a></li>
				
					<li><a href="./ModeratorsHelper.html">ModeratorsHelper</a></li>
				
					<li><a href="./Moderatorship.html">Moderatorship</a></li>
				
					<li><a href="./Monitorship.html">Monitorship</a></li>
				
					<li><a href="./MonitorshipsController.html">MonitorshipsController</a></li>
				
					<li><a href="./MonitorshipsHelper.html">MonitorshipsHelper</a></li>
				
					<li><a href="./NewsItem.html">NewsItem</a></li>
				
					<li><a href="./Notifications.html">Notifications</a></li>
				
					<li><a href="./NotificationsHelper.html">NotificationsHelper</a></li>
				
					<li><a href="./Object.html">Object</a></li>
				
					<li><a href="./ObjectFilter.html">ObjectFilter</a></li>
				
					<li><a href="./OrderedHash.html">OrderedHash</a></li>
				
					<li><a href="./OrganizationalUnit.html">OrganizationalUnit</a></li>
				
					<li><a href="./OrganizationalUnitHelper.html">OrganizationalUnitHelper</a></li>
				
					<li><a href="./OrganizationalUnitsController.html">OrganizationalUnitsController</a></li>
				
					<li><a href="./Page.html">Page</a></li>
				
					<li><a href="./PagesController.html">PagesController</a></li>
				
					<li><a href="./PagesHelper.html">PagesHelper</a></li>
				
					<li><a href="./Post.html">Post</a></li>
				
					<li><a href="./PostsController.html">PostsController</a></li>
				
					<li><a href="./PostsHelper.html">PostsHelper</a></li>
				
					<li><a href="./Preference.html">Preference</a></li>
				
					<li><a href="./PreferenceMethods.html">PreferenceMethods</a></li>
				
					<li><a href="./Project.html">Project</a></li>
				
					<li><a href="./ProjectFile.html">ProjectFile</a></li>
				
					<li><a href="./ProjectFilesController.html">ProjectFilesController</a></li>
				
					<li><a href="./ProjectFilesHelper.html">ProjectFilesHelper</a></li>
				
					<li><a href="./ProjectFolder.html">ProjectFolder</a></li>
				
					<li><a href="./ProjectPermission.html">ProjectPermission</a></li>
				
					<li><a href="./ProjectSweeper.html">ProjectSweeper</a></li>
				
					<li><a href="./ProjectsController.html">ProjectsController</a></li>
				
					<li><a href="./ProjectsHelper.html">ProjectsHelper</a></li>
				
					<li><a href="./PropertiesController.html">PropertiesController</a></li>
				
					<li><a href="./PropertiesHelper.html">PropertiesHelper</a></li>
				
					<li><a href="./Property.html">Property</a></li>
				
					<li><a href="./PropertyValue.html">PropertyValue</a></li>
				
					<li><a href="./ReportsController.html">ReportsController</a></li>
				
					<li><a href="./ReportsHelper.html">ReportsHelper</a></li>
				
					<li><a href="./Resource.html">Resource</a></li>
				
					<li><a href="./ResourceAttribute.html">ResourceAttribute</a></li>
				
					<li><a href="./ResourceType.html">ResourceType</a></li>
				
					<li><a href="./ResourceTypeAttribute.html">ResourceTypeAttribute</a></li>
				
					<li><a href="./ResourceTypesController.html">ResourceTypesController</a></li>
				
					<li><a href="./ResourceTypesHelper.html">ResourceTypesHelper</a></li>
				
					<li><a href="./ResourcesController.html">ResourcesController</a></li>
				
					<li><a href="./ResourcesHelper.html">ResourcesHelper</a></li>
				
					<li><a href="./ScheduleController.html">ScheduleController</a></li>
				
					<li><a href="./ScheduleHelper.html">ScheduleHelper</a></li>
				
					<li><a href="./ScmChangeset.html">ScmChangeset</a></li>
				
					<li><a href="./ScmChangesetsController.html">ScmChangesetsController</a></li>
				
					<li><a href="./ScmChangesetsHelper.html">ScmChangesetsHelper</a></li>
				
					<li><a href="./ScmFile.html">ScmFile</a></li>
				
					<li><a href="./ScmProject.html">ScmProject</a></li>
				
					<li><a href="./ScmProjectsController.html">ScmProjectsController</a></li>
				
					<li><a href="./ScmProjectsHelper.html">ScmProjectsHelper</a></li>
				
					<li><a href="./ScriptsController.html">ScriptsController</a></li>
				
					<li><a href="./Search.html">Search</a></li>
				
					<li><a href="./SearchController.html">SearchController</a></li>
				
					<li><a href="./Sheet.html">Sheet</a></li>
				
					<li><a href="./Signup.html">Signup</a></li>
				
					<li><a href="./Status.html">Status</a></li>
				
					<li><a href="./Tag.html">Tag</a></li>
				
					<li><a href="./TagSweeper.html">TagSweeper</a></li>
				
					<li><a href="./TagsController.html">TagsController</a></li>
				
					<li><a href="./TagsHelper.html">TagsHelper</a></li>
				
					<li><a href="./Task.html">Task</a></li>
				
					<li><a href="./TaskCustomer.html">TaskCustomer</a></li>
				
					<li><a href="./TaskFilter.html">TaskFilter</a></li>
				
					<li><a href="./TaskFilterHelper.html">TaskFilterHelper</a></li>
				
					<li><a href="./TaskFilterQualifier.html">TaskFilterQualifier</a></li>
				
					<li><a href="./TaskFiltersController.html">TaskFiltersController</a></li>
				
					<li><a href="./TaskOwner.html">TaskOwner</a></li>
				
					<li><a href="./TaskPropertyValue.html">TaskPropertyValue</a></li>
				
					<li><a href="./TaskTemplatesController.html">TaskTemplatesController</a></li>
				
					<li><a href="./TaskTemplatesHelper.html">TaskTemplatesHelper</a></li>
				
					<li><a href="./TaskUser.html">TaskUser</a></li>
				
					<li><a href="./TaskWatcher.html">TaskWatcher</a></li>
				
					<li><a href="./TasksController.html">TasksController</a></li>
				
					<li><a href="./TasksHelper.html">TasksHelper</a></li>
				
					<li><a href="./Template.html">Template</a></li>
				
					<li><a href="./Thumbnail.html">Thumbnail</a></li>
				
					<li><a href="./Time.html">Time</a></li>
				
					<li><a href="./TimeParser.html">TimeParser</a></li>
				
					<li><a href="./TimeRange.html">TimeRange</a></li>
				
					<li><a href="./TimeTrackingHelper.html">TimeTrackingHelper</a></li>
				
					<li><a href="./TimelineController.html">TimelineController</a></li>
				
					<li><a href="./TimelineHelper.html">TimelineHelper</a></li>
				
					<li><a href="./Todo.html">Todo</a></li>
				
					<li><a href="./TodosController.html">TodosController</a></li>
				
					<li><a href="./TodosHelper.html">TodosHelper</a></li>
				
					<li><a href="./Topic.html">Topic</a></li>
				
					<li><a href="./TopicsController.html">TopicsController</a></li>
				
					<li><a href="./TopicsHelper.html">TopicsHelper</a></li>
				
					<li><a href="./Trigger.html">Trigger</a></li>
				
					<li><a href="./TriggersController.html">TriggersController</a></li>
				
					<li><a href="./TriggersHelper.html">TriggersHelper</a></li>
				
					<li><a href="./User.html">User</a></li>
				
					<li><a href="./UsersController.html">UsersController</a></li>
				
					<li><a href="./UsersHelper.html">UsersHelper</a></li>
				
					<li><a href="./Widget.html">Widget</a></li>
				
					<li><a href="./WidgetsController.html">WidgetsController</a></li>
				
					<li><a href="./WidgetsHelper.html">WidgetsHelper</a></li>
				
					<li><a href="./WikiController.html">WikiController</a></li>
				
					<li><a href="./WikiHelper.html">WikiHelper</a></li>
				
					<li><a href="./WikiPage.html">WikiPage</a></li>
				
					<li><a href="./WikiReference.html">WikiReference</a></li>
				
					<li><a href="./WikiRevision.html">WikiRevision</a></li>
				
					<li><a href="./WorkController.html">WorkController</a></li>
				
					<li><a href="./WorkHelper.html">WorkHelper</a></li>
				
					<li><a href="./WorkLog.html">WorkLog</a></li>
				
					<li><a href="./WorkLogNotification.html">WorkLogNotification</a></li>
				
					<li><a href="./WorkLogsController.html">WorkLogsController</a></li>
				
					<li><a href="./WorkLogsHelper.html">WorkLogsHelper</a></li>
				
					<li><a href="./WorklogReport.html">WorklogReport</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="module">ReportsHelper</h1>

		<div id="description">
			
		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="client-select-method" class="method-detail ">
				<a name="method-i-client_select"></a>

				<div class="method-heading">
				
					<span class="method-name">client_select</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns the html to display a select tag to choose the client/customer to
use for reporting.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="client-select-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/reports_helper.rb, line 71</span>
71:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">client_select</span>
72:     <span class="ruby-identifier">options</span> = []
73:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">_</span>(<span class="ruby-value str">'[Any Client]'</span>), <span class="ruby-value str">'0'</span>]
74:     <span class="ruby-identifier">options</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">sorted_projects</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
75:       [ <span class="ruby-identifier">p</span>.<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">id</span> ]
76:     <span class="ruby-keyword kw">end</span>
77:     <span class="ruby-identifier">options</span>.<span class="ruby-identifier">uniq!</span>
78: 
79:     <span class="ruby-identifier">selected</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>][<span class="ruby-value">:client_id</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>]
80: 
81:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;report&quot;</span>, <span class="ruby-value str">&quot;client_id&quot;</span>, <span class="ruby-identifier">options</span>, <span class="ruby-value">:selected</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">selected</span>)
82:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="display-select-method" class="method-detail ">
				<a name="method-i-display_select"></a>

				<div class="method-heading">
				
					<span class="method-name">display_select</span><span
						class="method-args">(name, default_selected)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns a select tag to use to choose what to display in the report. name
should probably be &#8220;rows&#8221; or &#8220;columns&#8220;
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="display-select-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/reports_helper.rb, line 25</span>
25:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">display_select</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">default_selected</span>)
26:     <span class="ruby-identifier">options</span> = [
27:                [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Tasks&quot;</span>), <span class="ruby-value str">&quot;1&quot;</span>],
28:                [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Tags&quot;</span>), <span class="ruby-value str">&quot;2&quot;</span>],
29:                [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Users&quot;</span>), <span class="ruby-value str">&quot;3&quot;</span>],
30:                [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Clients&quot;</span>), <span class="ruby-value str">&quot;4&quot;</span>],
31:                [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Projects&quot;</span>), <span class="ruby-value str">&quot;5&quot;</span>],
32:                [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Milestones&quot;</span>), <span class="ruby-value str">&quot;6&quot;</span>],
33:                [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Date&quot;</span>), <span class="ruby-value str">&quot;7&quot;</span>],
34:                [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Task Resolution&quot;</span>), <span class="ruby-value str">&quot;8&quot;</span>],
35:                [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Requested By&quot;</span>), <span class="ruby-value str">&quot;20&quot;</span>]
36:               ]
37:     <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">properties</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
38:       <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">filter_name</span> ]
39:     <span class="ruby-keyword kw">end</span>
40: 
41:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>] <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>][<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>]
42:       <span class="ruby-identifier">selected</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>][<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>]
43:     <span class="ruby-keyword kw">end</span>
44: 
45:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;report&quot;</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-value">:selected</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">selected</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default_selected</span>))
46:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="project-select-method" class="method-detail ">
				<a name="method-i-project_select"></a>

				<div class="method-heading">
				
					<span class="method-name">project_select</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns the html to display a select tag to choose the project to use for
reporting.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="project-select-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/reports_helper.rb, line 88</span>
 88:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">project_select</span>
 89:     <span class="ruby-identifier">options</span> = []
 90:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">_</span>(<span class="ruby-value str">'[Active Projects]'</span>), <span class="ruby-value">0</span> ]
 91:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">_</span>(<span class="ruby-value str">'[Any Project]'</span>), <span class="ruby-value">1</span> ]
 92:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">_</span>(<span class="ruby-value str">'[Closed Projects]'</span>), <span class="ruby-value">2</span> ]
 93: 
 94:     <span class="ruby-identifier">selected</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>][<span class="ruby-value">:project_id</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>]
 95:     <span class="ruby-identifier">selected</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">selected_project</span>
 96:     <span class="ruby-identifier">selected</span> = <span class="ruby-identifier">selected</span>.<span class="ruby-identifier">to_i</span>
 97: 
 98:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>] <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>][<span class="ruby-value">:client_id</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
 99:       <span class="ruby-identifier">customer</span> = <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">customers</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>][<span class="ruby-value">:client_id</span>])
100:       <span class="ruby-identifier">projects</span> = <span class="ruby-identifier">customer</span>.<span class="ruby-identifier">projects</span>
101:     <span class="ruby-keyword kw">end</span>
102: 
103:     <span class="ruby-identifier">projects</span> = <span class="ruby-identifier">sorted_projects</span>(<span class="ruby-identifier">projects</span>)
104:     <span class="ruby-identifier">projects</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
105:       <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-node">&quot;#{ p.customer.name } - #{ p.name }&quot;</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> ]
106:     <span class="ruby-keyword kw">end</span>
107: 
108:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">select</span>(<span class="ruby-value str">&quot;report&quot;</span>, <span class="ruby-value str">&quot;project_id&quot;</span>, <span class="ruby-identifier">options</span>, <span class="ruby-value">:selected</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">selected</span>)
109:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="report-task-filter-method" class="method-detail ">
				<a name="method-i-report_task_filter"></a>

				<div class="method-heading">
				
					<span class="method-name">report_task_filter</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns the task html to display the task filter on the report page.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="report-task-filter-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/reports_helper.rb, line 149</span>
149:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">report_task_filter</span>
150:     <span class="ruby-identifier">locals</span> =  {
151:       <span class="ruby-value">:redirect_action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;list&quot;</span>,
152:       <span class="ruby-value">:redirect_params</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">params</span>
153:     }
154:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">render</span>(<span class="ruby-value">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/task_filters/search_filter&quot;</span>, <span class="ruby-value">:locals</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">locals</span>)
155:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="show-advanced--method" class="method-detail ">
				<a name="method-i-show_advanced%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">show_advanced?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns true if the advances section of the report config section should be
shown.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="show-advanced--source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/reports_helper.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">show_advanced?</span>
53:     <span class="ruby-identifier">show</span> = <span class="ruby-keyword kw">false</span>
54:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>]
55:       <span class="ruby-identifier">filters</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>]
56:       <span class="ruby-identifier">show</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">filters</span>[<span class="ruby-value">:status</span>] <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;-1&quot;</span>
57:       <span class="ruby-identifier">show</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">filters</span>[<span class="ruby-value">:tags</span>].<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
58: 
59:       <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">properties</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
60:         <span class="ruby-identifier">show</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">filters</span>[<span class="ruby-identifier">p</span>.<span class="ruby-identifier">filter_name</span>] <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>
61:       <span class="ruby-keyword kw">end</span>
62:     <span class="ruby-keyword kw">end</span>
63: 
64:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">show</span>
65:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="sorted-projects-method" class="method-detail ">
				<a name="method-i-sorted_projects"></a>

				<div class="method-heading">
				
					<span class="method-name">sorted_projects</span><span
						class="method-args">(projects = nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns an array of projects sorted by name. Active projects will be listed
first (in name order), then completed projects listed next (in name order
there too). Pass in an array of projects to only sort those projects.
Otherwise all projects for the current_user will be returned.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="sorted-projects-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/reports_helper.rb, line 118</span>
118:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sorted_projects</span>(<span class="ruby-identifier">projects</span> = <span class="ruby-keyword kw">nil</span>)
119:     <span class="ruby-identifier">to_sort</span> = <span class="ruby-identifier">projects</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">projects</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">projects</span>
120: 
121:     <span class="ruby-identifier">res</span> = <span class="ruby-identifier">to_sort</span>.<span class="ruby-identifier">sort</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p1</span>, <span class="ruby-identifier">p2</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p1</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">p2</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">downcase</span> }
122: 
123:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">projects</span>.<span class="ruby-identifier">nil?</span>
124:       <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">completed_projects</span>.<span class="ruby-identifier">sort</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p1</span>, <span class="ruby-identifier">p2</span><span class="ruby-operator">|</span>
125:         <span class="ruby-identifier">p1</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">p2</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">downcase</span>
126:       <span class="ruby-keyword kw">end</span>
127:     <span class="ruby-keyword kw">end</span>
128: 
129:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>
130:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="timesheet-field-style-method" class="method-detail ">
				<a name="method-i-timesheet_field_style"></a>

				<div class="method-heading">
				
					<span class="method-name">timesheet_field_style</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns a css style to apply to an element that should only be shown on a
timesheet report.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="timesheet-field-style-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/reports_helper.rb, line 136</span>
136:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">timesheet_field_style</span>
137:     <span class="ruby-identifier">display</span> = <span class="ruby-value str">&quot;&quot;</span>
138:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-operator">!</span>[<span class="ruby-value str">&quot;3&quot;</span>, <span class="ruby-value str">&quot;2&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">params</span>[<span class="ruby-value">:report</span>][<span class="ruby-value">:type</span>])
139:       <span class="ruby-identifier">display</span> = <span class="ruby-value str">&quot;none&quot;</span>
140:     <span class="ruby-keyword kw">end</span>
141: 
142:     <span class="ruby-keyword kw">return</span> <span class="ruby-node">&quot;display: #{ display }&quot;</span>
143:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="total-amount-worked-method" class="method-detail ">
				<a name="method-i-total_amount_worked"></a>

				<div class="method-heading">
				
					<span class="method-name">total_amount_worked</span><span
						class="method-args">(logs)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="total-amount-worked-source">
<pre>
   <span class="ruby-comment cmt"># File app/helpers/reports_helper.rb, line 3</span>
3:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">total_amount_worked</span>(<span class="ruby-identifier">logs</span>)
4:     <span class="ruby-identifier">total</span> = <span class="ruby-value">0</span>
5:     <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">log</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">logs</span>
6:       <span class="ruby-identifier">total</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">log</span>.<span class="ruby-identifier">duration</span>
7:     <span class="ruby-keyword kw">end</span>
8:     <span class="ruby-identifier">total</span>
9:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="total-task-worked-method" class="method-detail ">
				<a name="method-i-total_task_worked"></a>

				<div class="method-heading">
				
					<span class="method-name">total_task_worked</span><span
						class="method-args">(logs, task_id)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="total-task-worked-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/reports_helper.rb, line 11</span>
11:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">total_task_worked</span>(<span class="ruby-identifier">logs</span>, <span class="ruby-identifier">task_id</span>)
12:     <span class="ruby-identifier">total</span> = <span class="ruby-value">0</span>
13:     <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">log</span> <span class="ruby-keyword kw">in</span> <span class="ruby-identifier">logs</span>
14:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">log</span>.<span class="ruby-identifier">task</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">task_id</span>
15:         <span class="ruby-identifier">total</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">log</span>.<span class="ruby-identifier">duration</span>
16:       <span class="ruby-keyword kw">end</span>
17:     <span class="ruby-keyword kw">end</span>
18:     <span class="ruby-identifier">total</span>
19:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

