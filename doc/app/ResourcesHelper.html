<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Module: ResourcesHelper</title>

	<link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="module">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="./app/helpers/resources_helper_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="app/helpers/resources_helper.rb">app/helpers/resources_helper.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-i-add_filter_html">#add_filter_html</a></li>
					
					<li><a href="#method-i-child_resources">#child_resources</a></li>
					
					<li><a href="#method-i-customer_filter">#customer_filter</a></li>
					
					<li><a href="#method-i-history_date_if_needed">#history_date_if_needed</a></li>
					
					<li><a href="#method-i-query_menu">#query_menu</a></li>
					
					<li><a href="#method-i-resource_password_field">#resource_password_field</a></li>
					
					<li><a href="#method-i-resource_type_filter">#resource_type_filter</a></li>
					
					<li><a href="#method-i-resource_types_options_array">#resource_types_options_array</a></li>
					
					<li><a href="#method-i-resources_without_parents">#resources_without_parents</a></li>
					
					<li><a href="#method-i-selected_filter_values">#selected_filter_values</a></li>
					
					<li><a href="#method-i-value_field">#value_field</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="./LICENSE.html">LICENSE</a></li>
				
					<li class="file"><a href="./NOTICE.html">NOTICE</a></li>
				
					<li class="file"><a href="./README_rdoc.html">README.rdoc</a></li>
				
					<li class="file"><a href="./RELEASE-NOTES.html">RELEASE-NOTES</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./ActionController.html">ActionController</a></li>
				
					<li><a href="./ActionController/Caching.html">ActionController::Caching</a></li>
				
					<li><a href="./ActionController/Caching/Fragments.html">ActionController::Caching::Fragments</a></li>
				
					<li><a href="./ActionView.html">ActionView</a></li>
				
					<li><a href="./ActionView/Helpers.html">ActionView::Helpers</a></li>
				
					<li><a href="./ActionView/Helpers/DateHelper.html">ActionView::Helpers::DateHelper</a></li>
				
					<li><a href="./ActiveSupport.html">ActiveSupport</a></li>
				
					<li><a href="./ActiveSupport/Cache.html">ActiveSupport::Cache</a></li>
				
					<li><a href="./ActiveSupport/Cache/FileStore.html">ActiveSupport::Cache::FileStore</a></li>
				
					<li><a href="./ActiveRecord.html">ActiveRecord</a></li>
				
					<li><a href="./ActiveRecord/Base.html">ActiveRecord::Base</a></li>
				
					<li><a href="./AbstractTask.html">AbstractTask</a></li>
				
					<li><a href="./AccessLevel.html">AccessLevel</a></li>
				
					<li><a href="./ActivitiesController.html">ActivitiesController</a></li>
				
					<li><a href="./ActivitiesHelper.html">ActivitiesHelper</a></li>
				
					<li><a href="./AdminController.html">AdminController</a></li>
				
					<li><a href="./AdminHelper.html">AdminHelper</a></li>
				
					<li><a href="./ApiController.html">ApiController</a></li>
				
					<li><a href="./ApiHelper.html">ApiHelper</a></li>
				
					<li><a href="./ApplicationController.html">ApplicationController</a></li>
				
					<li><a href="./ApplicationHelper.html">ApplicationHelper</a></li>
				
					<li><a href="./ClientsController.html">ClientsController</a></li>
				
					<li><a href="./ClientsHelper.html">ClientsHelper</a></li>
				
					<li><a href="./CompaniesController.html">CompaniesController</a></li>
				
					<li><a href="./CompaniesHelper.html">CompaniesHelper</a></li>
				
					<li><a href="./Company.html">Company</a></li>
				
					<li><a href="./CustomAttribute.html">CustomAttribute</a></li>
				
					<li><a href="./CustomAttributeChoice.html">CustomAttributeChoice</a></li>
				
					<li><a href="./CustomAttributeMethods.html">CustomAttributeMethods</a></li>
				
					<li><a href="./CustomAttributeValue.html">CustomAttributeValue</a></li>
				
					<li><a href="./CustomAttributesController.html">CustomAttributesController</a></li>
				
					<li><a href="./CustomAttributesHelper.html">CustomAttributesHelper</a></li>
				
					<li><a href="./Customer.html">Customer</a></li>
				
					<li><a href="./Date.html">Date</a></li>
				
					<li><a href="./DateAndTimeHelper.html">DateAndTimeHelper</a></li>
				
					<li><a href="./Email.html">Email</a></li>
				
					<li><a href="./EmailAddress.html">EmailAddress</a></li>
				
					<li><a href="./EventLog.html">EventLog</a></li>
				
					<li><a href="./FeedsController.html">FeedsController</a></li>
				
					<li><a href="./FeedsHelper.html">FeedsHelper</a></li>
				
					<li><a href="./Forum.html">Forum</a></li>
				
					<li><a href="./ForumsController.html">ForumsController</a></li>
				
					<li><a href="./ForumsHelper.html">ForumsHelper</a></li>
				
					<li><a href="./GeneratedReport.html">GeneratedReport</a></li>
				
					<li><a href="./IcalEntry.html">IcalEntry</a></li>
				
					<li><a href="./Keyword.html">Keyword</a></li>
				
					<li><a href="./Locale.html">Locale</a></li>
				
					<li><a href="./LocalesController.html">LocalesController</a></li>
				
					<li><a href="./LocalesHelper.html">LocalesHelper</a></li>
				
					<li><a href="./Localization.html">Localization</a></li>
				
					<li><a href="./LoginController.html">LoginController</a></li>
				
					<li><a href="./LoginHelper.html">LoginHelper</a></li>
				
					<li><a href="./Mailman.html">Mailman</a></li>
				
					<li><a href="./MigrationHelpers.html">MigrationHelpers</a></li>
				
					<li><a href="./Milestone.html">Milestone</a></li>
				
					<li><a href="./MilestonesController.html">MilestonesController</a></li>
				
					<li><a href="./MilestonesHelper.html">MilestonesHelper</a></li>
				
					<li><a href="./Misc.html">Misc</a></li>
				
					<li><a href="./ModeratorsController.html">ModeratorsController</a></li>
				
					<li><a href="./ModeratorsHelper.html">ModeratorsHelper</a></li>
				
					<li><a href="./Moderatorship.html">Moderatorship</a></li>
				
					<li><a href="./Monitorship.html">Monitorship</a></li>
				
					<li><a href="./MonitorshipsController.html">MonitorshipsController</a></li>
				
					<li><a href="./MonitorshipsHelper.html">MonitorshipsHelper</a></li>
				
					<li><a href="./NewsItem.html">NewsItem</a></li>
				
					<li><a href="./Notifications.html">Notifications</a></li>
				
					<li><a href="./NotificationsHelper.html">NotificationsHelper</a></li>
				
					<li><a href="./Object.html">Object</a></li>
				
					<li><a href="./ObjectFilter.html">ObjectFilter</a></li>
				
					<li><a href="./OrderedHash.html">OrderedHash</a></li>
				
					<li><a href="./OrganizationalUnit.html">OrganizationalUnit</a></li>
				
					<li><a href="./OrganizationalUnitHelper.html">OrganizationalUnitHelper</a></li>
				
					<li><a href="./OrganizationalUnitsController.html">OrganizationalUnitsController</a></li>
				
					<li><a href="./Page.html">Page</a></li>
				
					<li><a href="./PagesController.html">PagesController</a></li>
				
					<li><a href="./PagesHelper.html">PagesHelper</a></li>
				
					<li><a href="./Post.html">Post</a></li>
				
					<li><a href="./PostsController.html">PostsController</a></li>
				
					<li><a href="./PostsHelper.html">PostsHelper</a></li>
				
					<li><a href="./Preference.html">Preference</a></li>
				
					<li><a href="./PreferenceMethods.html">PreferenceMethods</a></li>
				
					<li><a href="./Project.html">Project</a></li>
				
					<li><a href="./ProjectFile.html">ProjectFile</a></li>
				
					<li><a href="./ProjectFilesController.html">ProjectFilesController</a></li>
				
					<li><a href="./ProjectFilesHelper.html">ProjectFilesHelper</a></li>
				
					<li><a href="./ProjectFolder.html">ProjectFolder</a></li>
				
					<li><a href="./ProjectPermission.html">ProjectPermission</a></li>
				
					<li><a href="./ProjectSweeper.html">ProjectSweeper</a></li>
				
					<li><a href="./ProjectsController.html">ProjectsController</a></li>
				
					<li><a href="./ProjectsHelper.html">ProjectsHelper</a></li>
				
					<li><a href="./PropertiesController.html">PropertiesController</a></li>
				
					<li><a href="./PropertiesHelper.html">PropertiesHelper</a></li>
				
					<li><a href="./Property.html">Property</a></li>
				
					<li><a href="./PropertyValue.html">PropertyValue</a></li>
				
					<li><a href="./ReportsController.html">ReportsController</a></li>
				
					<li><a href="./ReportsHelper.html">ReportsHelper</a></li>
				
					<li><a href="./Resource.html">Resource</a></li>
				
					<li><a href="./ResourceAttribute.html">ResourceAttribute</a></li>
				
					<li><a href="./ResourceType.html">ResourceType</a></li>
				
					<li><a href="./ResourceTypeAttribute.html">ResourceTypeAttribute</a></li>
				
					<li><a href="./ResourceTypesController.html">ResourceTypesController</a></li>
				
					<li><a href="./ResourceTypesHelper.html">ResourceTypesHelper</a></li>
				
					<li><a href="./ResourcesController.html">ResourcesController</a></li>
				
					<li><a href="./ResourcesHelper.html">ResourcesHelper</a></li>
				
					<li><a href="./ScheduleController.html">ScheduleController</a></li>
				
					<li><a href="./ScheduleHelper.html">ScheduleHelper</a></li>
				
					<li><a href="./ScmChangeset.html">ScmChangeset</a></li>
				
					<li><a href="./ScmChangesetsController.html">ScmChangesetsController</a></li>
				
					<li><a href="./ScmChangesetsHelper.html">ScmChangesetsHelper</a></li>
				
					<li><a href="./ScmFile.html">ScmFile</a></li>
				
					<li><a href="./ScmProject.html">ScmProject</a></li>
				
					<li><a href="./ScmProjectsController.html">ScmProjectsController</a></li>
				
					<li><a href="./ScmProjectsHelper.html">ScmProjectsHelper</a></li>
				
					<li><a href="./ScriptsController.html">ScriptsController</a></li>
				
					<li><a href="./Search.html">Search</a></li>
				
					<li><a href="./SearchController.html">SearchController</a></li>
				
					<li><a href="./Sheet.html">Sheet</a></li>
				
					<li><a href="./Signup.html">Signup</a></li>
				
					<li><a href="./Status.html">Status</a></li>
				
					<li><a href="./Tag.html">Tag</a></li>
				
					<li><a href="./TagSweeper.html">TagSweeper</a></li>
				
					<li><a href="./TagsController.html">TagsController</a></li>
				
					<li><a href="./TagsHelper.html">TagsHelper</a></li>
				
					<li><a href="./Task.html">Task</a></li>
				
					<li><a href="./TaskCustomer.html">TaskCustomer</a></li>
				
					<li><a href="./TaskFilter.html">TaskFilter</a></li>
				
					<li><a href="./TaskFilterHelper.html">TaskFilterHelper</a></li>
				
					<li><a href="./TaskFilterQualifier.html">TaskFilterQualifier</a></li>
				
					<li><a href="./TaskFiltersController.html">TaskFiltersController</a></li>
				
					<li><a href="./TaskOwner.html">TaskOwner</a></li>
				
					<li><a href="./TaskPropertyValue.html">TaskPropertyValue</a></li>
				
					<li><a href="./TaskTemplatesController.html">TaskTemplatesController</a></li>
				
					<li><a href="./TaskTemplatesHelper.html">TaskTemplatesHelper</a></li>
				
					<li><a href="./TaskUser.html">TaskUser</a></li>
				
					<li><a href="./TaskWatcher.html">TaskWatcher</a></li>
				
					<li><a href="./TasksController.html">TasksController</a></li>
				
					<li><a href="./TasksHelper.html">TasksHelper</a></li>
				
					<li><a href="./Template.html">Template</a></li>
				
					<li><a href="./Thumbnail.html">Thumbnail</a></li>
				
					<li><a href="./Time.html">Time</a></li>
				
					<li><a href="./TimeParser.html">TimeParser</a></li>
				
					<li><a href="./TimeRange.html">TimeRange</a></li>
				
					<li><a href="./TimeTrackingHelper.html">TimeTrackingHelper</a></li>
				
					<li><a href="./TimelineController.html">TimelineController</a></li>
				
					<li><a href="./TimelineHelper.html">TimelineHelper</a></li>
				
					<li><a href="./Todo.html">Todo</a></li>
				
					<li><a href="./TodosController.html">TodosController</a></li>
				
					<li><a href="./TodosHelper.html">TodosHelper</a></li>
				
					<li><a href="./Topic.html">Topic</a></li>
				
					<li><a href="./TopicsController.html">TopicsController</a></li>
				
					<li><a href="./TopicsHelper.html">TopicsHelper</a></li>
				
					<li><a href="./Trigger.html">Trigger</a></li>
				
					<li><a href="./TriggersController.html">TriggersController</a></li>
				
					<li><a href="./TriggersHelper.html">TriggersHelper</a></li>
				
					<li><a href="./User.html">User</a></li>
				
					<li><a href="./UsersController.html">UsersController</a></li>
				
					<li><a href="./UsersHelper.html">UsersHelper</a></li>
				
					<li><a href="./Widget.html">Widget</a></li>
				
					<li><a href="./WidgetsController.html">WidgetsController</a></li>
				
					<li><a href="./WidgetsHelper.html">WidgetsHelper</a></li>
				
					<li><a href="./WikiController.html">WikiController</a></li>
				
					<li><a href="./WikiHelper.html">WikiHelper</a></li>
				
					<li><a href="./WikiPage.html">WikiPage</a></li>
				
					<li><a href="./WikiReference.html">WikiReference</a></li>
				
					<li><a href="./WikiRevision.html">WikiRevision</a></li>
				
					<li><a href="./WorkController.html">WorkController</a></li>
				
					<li><a href="./WorkHelper.html">WorkHelper</a></li>
				
					<li><a href="./WorkLog.html">WorkLog</a></li>
				
					<li><a href="./WorkLogNotification.html">WorkLogNotification</a></li>
				
					<li><a href="./WorkLogsController.html">WorkLogsController</a></li>
				
					<li><a href="./WorkLogsHelper.html">WorkLogsHelper</a></li>
				
					<li><a href="./WorklogReport.html">WorklogReport</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="module">ResourcesHelper</h1>

		<div id="description">
			
		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="add-filter-html-method" class="method-detail ">
				<a name="method-i-add_filter_html"></a>

				<div class="method-heading">
				
					<span class="method-name">add_filter_html</span><span
						class="method-args">(names_and_ids, filter_name, callback = nil, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the html to list the links to add filters to the current filter.
</p>
					

					
					<div class="method-source-code"
						id="add-filter-html-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/resources_helper.rb, line 127</span>
127:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_filter_html</span>(<span class="ruby-identifier">names_and_ids</span>, <span class="ruby-identifier">filter_name</span>, <span class="ruby-identifier">callback</span> = <span class="ruby-keyword kw">nil</span>, &amp;<span class="ruby-identifier">block</span>)
128:     <span class="ruby-identifier">res</span> = []
129:     <span class="ruby-identifier">callback</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">block</span>
130: 
131:     <span class="ruby-identifier">names_and_ids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">id</span><span class="ruby-operator">|</span>
132:       <span class="ruby-identifier">content</span> = <span class="ruby-identifier">link_to_function</span>(<span class="ruby-identifier">name</span>, <span class="ruby-node">&quot;addTaskFilter(this, '#{ id }', '#{ filter_name }[]')&quot;</span>)
133:       <span class="ruby-identifier">content</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">callback</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">id</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">callback</span>
134:       <span class="ruby-identifier">classname</span> = <span class="ruby-value str">&quot;add&quot;</span>
135:       <span class="ruby-identifier">classname</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot; first&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">empty?</span>
136:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:li</span>, <span class="ruby-identifier">content</span>.<span class="ruby-identifier">html_safe</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">classname</span>)
137:     <span class="ruby-keyword kw">end</span>
138: 
139:     <span class="ruby-identifier">content</span> = <span class="ruby-identifier">res</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>).<span class="ruby-identifier">html_safe</span>
140:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:ul</span>, <span class="ruby-identifier">content</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;menu&quot;</span>)
141:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="child-resources-method" class="method-detail ">
				<a name="method-i-child_resources"></a>

				<div class="method-heading">
				
					<span class="method-name">child_resources</span><span
						class="method-args">(resource, all_visible_resources)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns all child resources of resource that should be shown.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="child-resources-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/resources_helper.rb, line 72</span>
72:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">child_resources</span>(<span class="ruby-identifier">resource</span>, <span class="ruby-identifier">all_visible_resources</span>)
73:     <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">child_resources</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">all_visible_resources</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">r</span>) }
74:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="customer-filter-method" class="method-detail ">
				<a name="method-i-customer_filter"></a>

				<div class="method-heading">
				
					<span class="method-name">customer_filter</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns the html to use to filter by customers
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="customer-filter-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/resources_helper.rb, line 88</span>
88:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">customer_filter</span>
89:     <span class="ruby-identifier">customers</span> = <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">resources</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">customer</span> }
90:     <span class="ruby-identifier">customers</span> = <span class="ruby-identifier">customers</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">downcase</span> }
91: 
92:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">filter_for</span>(<span class="ruby-value">:customer_id</span>, <span class="ruby-identifier">objects_to_names_and_ids</span>(<span class="ruby-identifier">customers</span>),
93:                       <span class="ruby-identifier">session</span>[<span class="ruby-value">:resource_filters</span>], <span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Customer&quot;</span>))
94:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="history-date-if-needed-method" class="method-detail ">
				<a name="method-i-history_date_if_needed"></a>

				<div class="method-heading">
				
					<span class="method-name">history_date_if_needed</span><span
						class="method-args">(log)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns the html to display the given event log occured on. If this is just
the same as the last used date, returns nil.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="history-date-if-needed-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/resources_helper.rb, line 100</span>
100:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">history_date_if_needed</span>(<span class="ruby-identifier">log</span>)
101:     <span class="ruby-identifier">date</span> = <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">utc_to_local</span>(<span class="ruby-identifier">log</span>.<span class="ruby-identifier">updated_at</span>).<span class="ruby-identifier">strftime</span>(<span class="ruby-value str">&quot;%A, %d %B %Y&quot;</span>) 
102:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">date</span> <span class="ruby-operator">!=</span> <span class="ruby-ivar">@last_date</span>
103:       <span class="ruby-identifier">res</span> = <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:div</span>, <span class="ruby-identifier">date</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;log_header&quot;</span>)
104:       <span class="ruby-ivar">@last_date</span> = <span class="ruby-identifier">date</span>
105:     <span class="ruby-keyword kw">end</span>
106: 
107:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>
108:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="query-menu-method" class="method-detail ">
				<a name="method-i-query_menu"></a>

				<div class="method-heading">
				
					<span class="method-name">query_menu</span><span
						class="method-args">(name, names_and_ids, label = nil, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns the html to display a query menu for the items in names_and_ids.
Query menu elements can be clicked to add them to the task filter. If label
is passed, that will be used as the label for the menu. If that is not
passed, a pretty version of name will be used instead.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="query-menu-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/resources_helper.rb, line 116</span>
116:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">query_menu</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">names_and_ids</span>, <span class="ruby-identifier">label</span> = <span class="ruby-keyword kw">nil</span>, &amp;<span class="ruby-identifier">block</span>)
117:     <span class="ruby-identifier">options</span> = {}
118:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:label</span>] = <span class="ruby-identifier">label</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/filter_/</span>, <span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">pluralize</span>.<span class="ruby-identifier">titleize</span>
119:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:filter_name</span>] = <span class="ruby-identifier">name</span>
120:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:names_and_ids</span>] = <span class="ruby-identifier">names_and_ids</span>
121:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:callback</span>] = <span class="ruby-identifier">block</span>
122: 
123:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">render</span>(<span class="ruby-value">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/resources/querymenu&quot;</span>, <span class="ruby-value">:locals</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>)
124:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="resource-password-field-method" class="method-detail ">
				<a name="method-i-resource_password_field"></a>

				<div class="method-heading">
				
					<span class="method-name">resource_password_field</span><span
						class="method-args">(attribute, type, name_prefix, field_id)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="resource-password-field-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/resources_helper.rb, line 45</span>
45:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resource_password_field</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">name_prefix</span>, <span class="ruby-identifier">field_id</span>)
46:     <span class="ruby-identifier">res</span> = <span class="ruby-value str">&quot;&quot;</span>
47:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">new_record?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">password</span>.<span class="ruby-identifier">blank?</span>
48:       <span class="ruby-identifier">res</span> = <span class="ruby-identifier">text_field_tag</span>(<span class="ruby-node">&quot;#{ name_prefix }[password]&quot;</span>, <span class="ruby-value str">&quot;Password&quot;</span>,
49:                            <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">field_id</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;password&quot;</span>, 
50:                            <span class="ruby-value">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">default_field_length</span>)
51:     <span class="ruby-keyword kw">else</span> 
52:       <span class="ruby-identifier">res</span> = <span class="ruby-value str">&quot;&lt;div class=\&quot;password\&quot;&gt;&lt;/div&gt;&quot;</span>
53:       <span class="ruby-identifier">url</span> = <span class="ruby-identifier">show_password_resource_path</span>(<span class="ruby-ivar">@resource</span>, <span class="ruby-value">:attr_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">id</span>)
54:       <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">link_to_function</span>(<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Show Password&quot;</span>), <span class="ruby-node">&quot;showPassword(this, '#{ url }')&quot;</span>)
55:     <span class="ruby-keyword kw">end</span>
56: 
57:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>.<span class="ruby-identifier">html_safe</span>
58:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="resource-type-filter-method" class="method-detail ">
				<a name="method-i-resource_type_filter"></a>

				<div class="method-heading">
				
					<span class="method-name">resource_type_filter</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns the html to use to filter by resource types.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="resource-type-filter-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/resources_helper.rb, line 79</span>
79:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resource_type_filter</span>
80:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">filter_for</span>(<span class="ruby-value">:resource_type_id</span>, 
81:                       <span class="ruby-identifier">objects_to_names_and_ids</span>(<span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">resource_types</span>),
82:                       <span class="ruby-identifier">session</span>[<span class="ruby-value">:resource_filters</span>], <span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Resource Type&quot;</span>))
83:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="resource-types-options-array-method" class="method-detail ">
				<a name="method-i-resource_types_options_array"></a>

				<div class="method-heading">
				
					<span class="method-name">resource_types_options_array</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns an array that can be used to select what the type of a resource is.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="resource-types-options-array-source">
<pre>
   <span class="ruby-comment cmt"># File app/helpers/resources_helper.rb, line 6</span>
6:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resource_types_options_array</span>
7:     <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">resource_types</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">rt</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">rt</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">rt</span>.<span class="ruby-identifier">id</span>] }
8:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="resources-without-parents-method" class="method-detail ">
				<a name="method-i-resources_without_parents"></a>

				<div class="method-heading">
				
					<span class="method-name">resources_without_parents</span><span
						class="method-args">(resources)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns only resources with no parent resource.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="resources-without-parents-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/resources_helper.rb, line 63</span>
63:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resources_without_parents</span>(<span class="ruby-identifier">resources</span>)
64:     <span class="ruby-identifier">resources</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> 
65:       <span class="ruby-identifier">r</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-operator">!</span><span class="ruby-identifier">resources</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">r</span>.<span class="ruby-identifier">parent</span>)
66:     <span class="ruby-keyword kw">end</span>
67:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="selected-filter-values-method" class="method-detail ">
				<a name="method-i-selected_filter_values"></a>

				<div class="method-heading">
				
					<span class="method-name">selected_filter_values</span><span
						class="method-args">(name, selected_names_and_ids, label = nil, default_label_text = "Any", &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the html to display the selected values in the current filter.
</p>
					

					
					<div class="method-source-code"
						id="selected-filter-values-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/resources_helper.rb, line 144</span>
144:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">selected_filter_values</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">selected_names_and_ids</span>, <span class="ruby-identifier">label</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">default_label_text</span> = <span class="ruby-value str">&quot;Any&quot;</span>, &amp;<span class="ruby-identifier">block</span>)
145:     <span class="ruby-identifier">label</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/^filter_/</span>, <span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">titleize</span>
146:     <span class="ruby-identifier">selected_names_and_ids</span> <span class="ruby-operator">||=</span> []
147: 
148:     <span class="ruby-identifier">locals</span> = {
149:       <span class="ruby-value">:selected_names_and_ids</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">selected_names_and_ids</span>,
150:       <span class="ruby-value">:filter_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>,
151:       <span class="ruby-value">:all_label</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">_</span>(<span class="ruby-node">&quot;[#{ default_label_text } %s]&quot;</span>, <span class="ruby-identifier">label</span>),
152:       <span class="ruby-value">:unassigned</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
153:     }
154:     <span class="ruby-identifier">locals</span>[<span class="ruby-value">:display_all_label</span>] = (<span class="ruby-identifier">selected_names_and_ids</span>.<span class="ruby-identifier">any?</span> <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;none&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;&quot;</span>)
155: 
156:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">render</span>(<span class="ruby-value">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;/resources/selected_filter_values&quot;</span>, <span class="ruby-value">:locals</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">locals</span>, &amp;<span class="ruby-identifier">block</span>)
157:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="value-field-method" class="method-detail ">
				<a name="method-i-value_field"></a>

				<div class="method-heading">
				
					<span class="method-name">value_field</span><span
						class="method-args">(attribute, name_prefix, field_id, show_remove_link = false)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns the html to display the value for attribute. If it is a password
field, adds a link to request the unencrypted password.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="value-field-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/resources_helper.rb, line 15</span>
15:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">value_field</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">name_prefix</span>, <span class="ruby-identifier">field_id</span>, <span class="ruby-identifier">show_remove_link</span> = <span class="ruby-keyword kw">false</span>)
16:     <span class="ruby-identifier">type</span> = <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">resource_type_attribute</span>
17:     <span class="ruby-identifier">value</span> = <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">value</span>
18:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attribute</span>.<span class="ruby-identifier">new_record?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">is_password?</span>
19:       <span class="ruby-identifier">value</span> = <span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;User&quot;</span>)
20:     <span class="ruby-keyword kw">end</span>
21: 
22:     <span class="ruby-identifier">res</span> = <span class="ruby-identifier">text_field_tag</span>(<span class="ruby-node">&quot;#{ name_prefix }[value]&quot;</span>, <span class="ruby-identifier">value</span>, 
23:                          <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">field_id</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;value&quot;</span>, 
24:                          <span class="ruby-value">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">default_field_length</span>)
25: 
26:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">is_password?</span>
27:       <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">resource_password_field</span>(<span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">name_prefix</span>, <span class="ruby-identifier">field_id</span>)
28:     <span class="ruby-keyword kw">end</span>
29: 
30:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">allows_multiple?</span>
31:       <span class="ruby-identifier">add_style</span> = <span class="ruby-identifier">show_remove_link</span> <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;display: none&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;&quot;</span>
32:       <span class="ruby-identifier">remove_style</span> = <span class="ruby-identifier">show_remove_link</span> <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;display: none;&quot;</span>
33: 
34:       <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">link_to_function</span>(<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Add another&quot;</span>), <span class="ruby-value str">&quot;addAttribute(this)&quot;</span>, 
35:                               <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;add_attribute&quot;</span>, 
36:                               <span class="ruby-value">:style</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">add_style</span>)
37:       <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">link_to_function</span>(<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Remove&quot;</span>), <span class="ruby-value str">&quot;removeAttribute(this)&quot;</span>, 
38:                               <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;remove_attribute&quot;</span>, 
39:                               <span class="ruby-value">:style</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">remove_style</span>)
40:     <span class="ruby-keyword kw">end</span>
41: 
42:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>
43:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

