<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Module: TasksHelper</title>

	<link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="module">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="./app/helpers/tasks_helper_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="app/helpers/tasks_helper.rb">app/helpers/tasks_helper.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-i-add_me_link">#add_me_link</a></li>
					
					<li><a href="#method-i-auto_complete_for_resources">#auto_complete_for_resources</a></li>
					
					<li><a href="#method-i-cloud_ranges">#cloud_ranges</a></li>
					
					<li><a href="#method-i-due_date_field">#due_date_field</a></li>
					
					<li><a href="#method-i-milestone_select">#milestone_select</a></li>
					
					<li><a href="#method-i-notify_emails_on_newlines">#notify_emails_on_newlines</a></li>
					
					<li><a href="#method-i-options_for_changegroup">#options_for_changegroup</a></li>
					
					<li><a href="#method-i-options_for_user_projects">#options_for_user_projects</a></li>
					
					<li><a href="#method-i-perms">#perms</a></li>
					
					<li><a href="#method-i-render_last_task">#render_last_task</a></li>
					
					<li><a href="#method-i-render_task_dependants">#render_task_dependants</a></li>
					
					<li><a href="#method-i-status_field">#status_field</a></li>
					
					<li><a href="#method-i-task_customer_tip">#task_customer_tip</a></li>
					
					<li><a href="#method-i-task_milestone_tip">#task_milestone_tip</a></li>
					
					<li><a href="#method-i-task_tooltip">#task_tooltip</a></li>
					
					<li><a href="#method-i-unread_toggle_for_task_and_user">#unread_toggle_for_task_and_user</a></li>
					
					<li><a href="#method-i-work_log_customer_options">#work_log_customer_options</a></li>
					
					<li><a href="#method-i-work_log_status_html_options">#work_log_status_html_options</a></li>
					
					<li><a href="#method-i-work_log_status_options">#work_log_status_options</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="./LICENSE.html">LICENSE</a></li>
				
					<li class="file"><a href="./NOTICE.html">NOTICE</a></li>
				
					<li class="file"><a href="./README_rdoc.html">README.rdoc</a></li>
				
					<li class="file"><a href="./RELEASE-NOTES.html">RELEASE-NOTES</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./ActionController.html">ActionController</a></li>
				
					<li><a href="./ActionController/Caching.html">ActionController::Caching</a></li>
				
					<li><a href="./ActionController/Caching/Fragments.html">ActionController::Caching::Fragments</a></li>
				
					<li><a href="./ActionView.html">ActionView</a></li>
				
					<li><a href="./ActionView/Helpers.html">ActionView::Helpers</a></li>
				
					<li><a href="./ActionView/Helpers/DateHelper.html">ActionView::Helpers::DateHelper</a></li>
				
					<li><a href="./ActiveSupport.html">ActiveSupport</a></li>
				
					<li><a href="./ActiveSupport/Cache.html">ActiveSupport::Cache</a></li>
				
					<li><a href="./ActiveSupport/Cache/FileStore.html">ActiveSupport::Cache::FileStore</a></li>
				
					<li><a href="./ActiveRecord.html">ActiveRecord</a></li>
				
					<li><a href="./ActiveRecord/Base.html">ActiveRecord::Base</a></li>
				
					<li><a href="./AbstractTask.html">AbstractTask</a></li>
				
					<li><a href="./AccessLevel.html">AccessLevel</a></li>
				
					<li><a href="./ActivitiesController.html">ActivitiesController</a></li>
				
					<li><a href="./ActivitiesHelper.html">ActivitiesHelper</a></li>
				
					<li><a href="./AdminController.html">AdminController</a></li>
				
					<li><a href="./AdminHelper.html">AdminHelper</a></li>
				
					<li><a href="./ApiController.html">ApiController</a></li>
				
					<li><a href="./ApiHelper.html">ApiHelper</a></li>
				
					<li><a href="./ApplicationController.html">ApplicationController</a></li>
				
					<li><a href="./ApplicationHelper.html">ApplicationHelper</a></li>
				
					<li><a href="./ClientsController.html">ClientsController</a></li>
				
					<li><a href="./ClientsHelper.html">ClientsHelper</a></li>
				
					<li><a href="./CompaniesController.html">CompaniesController</a></li>
				
					<li><a href="./CompaniesHelper.html">CompaniesHelper</a></li>
				
					<li><a href="./Company.html">Company</a></li>
				
					<li><a href="./CustomAttribute.html">CustomAttribute</a></li>
				
					<li><a href="./CustomAttributeChoice.html">CustomAttributeChoice</a></li>
				
					<li><a href="./CustomAttributeMethods.html">CustomAttributeMethods</a></li>
				
					<li><a href="./CustomAttributeValue.html">CustomAttributeValue</a></li>
				
					<li><a href="./CustomAttributesController.html">CustomAttributesController</a></li>
				
					<li><a href="./CustomAttributesHelper.html">CustomAttributesHelper</a></li>
				
					<li><a href="./Customer.html">Customer</a></li>
				
					<li><a href="./Date.html">Date</a></li>
				
					<li><a href="./DateAndTimeHelper.html">DateAndTimeHelper</a></li>
				
					<li><a href="./Email.html">Email</a></li>
				
					<li><a href="./EmailAddress.html">EmailAddress</a></li>
				
					<li><a href="./EventLog.html">EventLog</a></li>
				
					<li><a href="./FeedsController.html">FeedsController</a></li>
				
					<li><a href="./FeedsHelper.html">FeedsHelper</a></li>
				
					<li><a href="./Forum.html">Forum</a></li>
				
					<li><a href="./ForumsController.html">ForumsController</a></li>
				
					<li><a href="./ForumsHelper.html">ForumsHelper</a></li>
				
					<li><a href="./GeneratedReport.html">GeneratedReport</a></li>
				
					<li><a href="./IcalEntry.html">IcalEntry</a></li>
				
					<li><a href="./Keyword.html">Keyword</a></li>
				
					<li><a href="./Locale.html">Locale</a></li>
				
					<li><a href="./LocalesController.html">LocalesController</a></li>
				
					<li><a href="./LocalesHelper.html">LocalesHelper</a></li>
				
					<li><a href="./Localization.html">Localization</a></li>
				
					<li><a href="./LoginController.html">LoginController</a></li>
				
					<li><a href="./LoginHelper.html">LoginHelper</a></li>
				
					<li><a href="./Mailman.html">Mailman</a></li>
				
					<li><a href="./MigrationHelpers.html">MigrationHelpers</a></li>
				
					<li><a href="./Milestone.html">Milestone</a></li>
				
					<li><a href="./MilestonesController.html">MilestonesController</a></li>
				
					<li><a href="./MilestonesHelper.html">MilestonesHelper</a></li>
				
					<li><a href="./Misc.html">Misc</a></li>
				
					<li><a href="./ModeratorsController.html">ModeratorsController</a></li>
				
					<li><a href="./ModeratorsHelper.html">ModeratorsHelper</a></li>
				
					<li><a href="./Moderatorship.html">Moderatorship</a></li>
				
					<li><a href="./Monitorship.html">Monitorship</a></li>
				
					<li><a href="./MonitorshipsController.html">MonitorshipsController</a></li>
				
					<li><a href="./MonitorshipsHelper.html">MonitorshipsHelper</a></li>
				
					<li><a href="./NewsItem.html">NewsItem</a></li>
				
					<li><a href="./Notifications.html">Notifications</a></li>
				
					<li><a href="./NotificationsHelper.html">NotificationsHelper</a></li>
				
					<li><a href="./Object.html">Object</a></li>
				
					<li><a href="./ObjectFilter.html">ObjectFilter</a></li>
				
					<li><a href="./OrderedHash.html">OrderedHash</a></li>
				
					<li><a href="./OrganizationalUnit.html">OrganizationalUnit</a></li>
				
					<li><a href="./OrganizationalUnitHelper.html">OrganizationalUnitHelper</a></li>
				
					<li><a href="./OrganizationalUnitsController.html">OrganizationalUnitsController</a></li>
				
					<li><a href="./Page.html">Page</a></li>
				
					<li><a href="./PagesController.html">PagesController</a></li>
				
					<li><a href="./PagesHelper.html">PagesHelper</a></li>
				
					<li><a href="./Post.html">Post</a></li>
				
					<li><a href="./PostsController.html">PostsController</a></li>
				
					<li><a href="./PostsHelper.html">PostsHelper</a></li>
				
					<li><a href="./Preference.html">Preference</a></li>
				
					<li><a href="./PreferenceMethods.html">PreferenceMethods</a></li>
				
					<li><a href="./Project.html">Project</a></li>
				
					<li><a href="./ProjectFile.html">ProjectFile</a></li>
				
					<li><a href="./ProjectFilesController.html">ProjectFilesController</a></li>
				
					<li><a href="./ProjectFilesHelper.html">ProjectFilesHelper</a></li>
				
					<li><a href="./ProjectFolder.html">ProjectFolder</a></li>
				
					<li><a href="./ProjectPermission.html">ProjectPermission</a></li>
				
					<li><a href="./ProjectSweeper.html">ProjectSweeper</a></li>
				
					<li><a href="./ProjectsController.html">ProjectsController</a></li>
				
					<li><a href="./ProjectsHelper.html">ProjectsHelper</a></li>
				
					<li><a href="./PropertiesController.html">PropertiesController</a></li>
				
					<li><a href="./PropertiesHelper.html">PropertiesHelper</a></li>
				
					<li><a href="./Property.html">Property</a></li>
				
					<li><a href="./PropertyValue.html">PropertyValue</a></li>
				
					<li><a href="./ReportsController.html">ReportsController</a></li>
				
					<li><a href="./ReportsHelper.html">ReportsHelper</a></li>
				
					<li><a href="./Resource.html">Resource</a></li>
				
					<li><a href="./ResourceAttribute.html">ResourceAttribute</a></li>
				
					<li><a href="./ResourceType.html">ResourceType</a></li>
				
					<li><a href="./ResourceTypeAttribute.html">ResourceTypeAttribute</a></li>
				
					<li><a href="./ResourceTypesController.html">ResourceTypesController</a></li>
				
					<li><a href="./ResourceTypesHelper.html">ResourceTypesHelper</a></li>
				
					<li><a href="./ResourcesController.html">ResourcesController</a></li>
				
					<li><a href="./ResourcesHelper.html">ResourcesHelper</a></li>
				
					<li><a href="./ScheduleController.html">ScheduleController</a></li>
				
					<li><a href="./ScheduleHelper.html">ScheduleHelper</a></li>
				
					<li><a href="./ScmChangeset.html">ScmChangeset</a></li>
				
					<li><a href="./ScmChangesetsController.html">ScmChangesetsController</a></li>
				
					<li><a href="./ScmChangesetsHelper.html">ScmChangesetsHelper</a></li>
				
					<li><a href="./ScmFile.html">ScmFile</a></li>
				
					<li><a href="./ScmProject.html">ScmProject</a></li>
				
					<li><a href="./ScmProjectsController.html">ScmProjectsController</a></li>
				
					<li><a href="./ScmProjectsHelper.html">ScmProjectsHelper</a></li>
				
					<li><a href="./ScriptsController.html">ScriptsController</a></li>
				
					<li><a href="./Search.html">Search</a></li>
				
					<li><a href="./SearchController.html">SearchController</a></li>
				
					<li><a href="./Sheet.html">Sheet</a></li>
				
					<li><a href="./Signup.html">Signup</a></li>
				
					<li><a href="./Status.html">Status</a></li>
				
					<li><a href="./Tag.html">Tag</a></li>
				
					<li><a href="./TagSweeper.html">TagSweeper</a></li>
				
					<li><a href="./TagsController.html">TagsController</a></li>
				
					<li><a href="./TagsHelper.html">TagsHelper</a></li>
				
					<li><a href="./Task.html">Task</a></li>
				
					<li><a href="./TaskCustomer.html">TaskCustomer</a></li>
				
					<li><a href="./TaskFilter.html">TaskFilter</a></li>
				
					<li><a href="./TaskFilterHelper.html">TaskFilterHelper</a></li>
				
					<li><a href="./TaskFilterQualifier.html">TaskFilterQualifier</a></li>
				
					<li><a href="./TaskFiltersController.html">TaskFiltersController</a></li>
				
					<li><a href="./TaskOwner.html">TaskOwner</a></li>
				
					<li><a href="./TaskPropertyValue.html">TaskPropertyValue</a></li>
				
					<li><a href="./TaskTemplatesController.html">TaskTemplatesController</a></li>
				
					<li><a href="./TaskTemplatesHelper.html">TaskTemplatesHelper</a></li>
				
					<li><a href="./TaskUser.html">TaskUser</a></li>
				
					<li><a href="./TaskWatcher.html">TaskWatcher</a></li>
				
					<li><a href="./TasksController.html">TasksController</a></li>
				
					<li><a href="./TasksHelper.html">TasksHelper</a></li>
				
					<li><a href="./Template.html">Template</a></li>
				
					<li><a href="./Thumbnail.html">Thumbnail</a></li>
				
					<li><a href="./Time.html">Time</a></li>
				
					<li><a href="./TimeParser.html">TimeParser</a></li>
				
					<li><a href="./TimeRange.html">TimeRange</a></li>
				
					<li><a href="./TimeTrackingHelper.html">TimeTrackingHelper</a></li>
				
					<li><a href="./TimelineController.html">TimelineController</a></li>
				
					<li><a href="./TimelineHelper.html">TimelineHelper</a></li>
				
					<li><a href="./Todo.html">Todo</a></li>
				
					<li><a href="./TodosController.html">TodosController</a></li>
				
					<li><a href="./TodosHelper.html">TodosHelper</a></li>
				
					<li><a href="./Topic.html">Topic</a></li>
				
					<li><a href="./TopicsController.html">TopicsController</a></li>
				
					<li><a href="./TopicsHelper.html">TopicsHelper</a></li>
				
					<li><a href="./Trigger.html">Trigger</a></li>
				
					<li><a href="./TriggersController.html">TriggersController</a></li>
				
					<li><a href="./TriggersHelper.html">TriggersHelper</a></li>
				
					<li><a href="./User.html">User</a></li>
				
					<li><a href="./UsersController.html">UsersController</a></li>
				
					<li><a href="./UsersHelper.html">UsersHelper</a></li>
				
					<li><a href="./Widget.html">Widget</a></li>
				
					<li><a href="./WidgetsController.html">WidgetsController</a></li>
				
					<li><a href="./WidgetsHelper.html">WidgetsHelper</a></li>
				
					<li><a href="./WikiController.html">WikiController</a></li>
				
					<li><a href="./WikiHelper.html">WikiHelper</a></li>
				
					<li><a href="./WikiPage.html">WikiPage</a></li>
				
					<li><a href="./WikiReference.html">WikiReference</a></li>
				
					<li><a href="./WikiRevision.html">WikiRevision</a></li>
				
					<li><a href="./WorkController.html">WorkController</a></li>
				
					<li><a href="./WorkHelper.html">WorkHelper</a></li>
				
					<li><a href="./WorkLog.html">WorkLog</a></li>
				
					<li><a href="./WorkLogNotification.html">WorkLogNotification</a></li>
				
					<li><a href="./WorkLogsController.html">WorkLogsController</a></li>
				
					<li><a href="./WorkLogsHelper.html">WorkLogsHelper</a></li>
				
					<li><a href="./WorklogReport.html">WorklogReport</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="module">TasksHelper</h1>

		<div id="description">
			
		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="add-me-link-method" class="method-detail ">
				<a name="method-i-add_me_link"></a>

				<div class="method-heading">
				
					<span class="method-name">add_me_link</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns a link that add the current user to the current tasks user list
when clicked.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="add-me-link-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 101</span>
101:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_me_link</span>
102:     <span class="ruby-identifier">link_to_function</span>(<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;add me&quot;</span>)) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">page</span><span class="ruby-operator">|</span>
103:       <span class="ruby-identifier">html</span> = <span class="ruby-identifier">render_to_string</span>(<span class="ruby-value">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;tasks/notification&quot;</span>, <span class="ruby-value">:locals</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:notification</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">current_user</span> })
104:       <span class="ruby-identifier">page</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;jQuery('#task_notify').append('#{escape_javascript html}')&quot;</span>
105:     <span class="ruby-keyword kw">end</span>
106:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="auto-complete-for-resources-method" class="method-detail ">
				<a name="method-i-auto_complete_for_resources"></a>

				<div class="method-heading">
				
					<span class="method-name">auto_complete_for_resources</span><span
						class="method-args">(customer_id)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns the html to display an auto complete for resources. Only resources
belonging to customer id are returned. Unassigned resources (belonging to
no customer are also returned though).
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="auto-complete-for-resources-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 65</span>
65:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">auto_complete_for_resources</span>(<span class="ruby-identifier">customer_id</span>)
66:     <span class="ruby-identifier">text_field</span>(<span class="ruby-value">:resource</span>, <span class="ruby-value">:name</span>, {<span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;resource_name_auto_complete&quot;</span>, <span class="ruby-value">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>, <span class="ruby-value str">'data-customer-id'</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">customer_id</span> })
67:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="cloud-ranges-method" class="method-detail ">
				<a name="method-i-cloud_ranges"></a>

				<div class="method-heading">
				
					<span class="method-name">cloud_ranges</span><span
						class="method-args">(counts)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an array that show the start of ranges to be used for a tag cloud
</p>
					

					
					<div class="method-source-code"
						id="cloud-ranges-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 110</span>
110:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cloud_ranges</span>(<span class="ruby-identifier">counts</span>)
111:     <span class="ruby-comment cmt"># there are going to be 5 ranges defined in css:</span>
112:     <span class="ruby-identifier">class_count</span> = <span class="ruby-value">5</span>
113: 
114:     <span class="ruby-identifier">max</span> = <span class="ruby-identifier">counts</span>.<span class="ruby-identifier">max</span> <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
115:     <span class="ruby-identifier">min</span> = <span class="ruby-identifier">counts</span>.<span class="ruby-identifier">min</span> <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
116:     <span class="ruby-identifier">divisor</span> = ((<span class="ruby-identifier">max</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">min</span>) <span class="ruby-operator">/</span> <span class="ruby-identifier">class_count</span>) <span class="ruby-operator">+</span> <span class="ruby-value">1</span>
117: 
118:     <span class="ruby-identifier">res</span> = []
119:     <span class="ruby-identifier">class_count</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
120:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">i</span> * <span class="ruby-identifier">divisor</span>)
121:     <span class="ruby-keyword kw">end</span>
122: 
123:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>
124:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="due-date-field-method" class="method-detail ">
				<a name="method-i-due_date_field"></a>

				<div class="method-heading">
				
					<span class="method-name">due_date_field</span><span
						class="method-args">(task, permissions)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns html to display the due date selector for task
</p>
					

					
					<div class="method-source-code"
						id="due-date-field-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 197</span>
197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">due_date_field</span>(<span class="ruby-identifier">task</span>, <span class="ruby-identifier">permissions</span>)
198:     <span class="ruby-identifier">date_tooltip</span> = <span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Enter task due date.&lt;br/&gt;For recurring tasks, try:&lt;br/&gt;every day&lt;br/&gt;every thursday&lt;br/&gt;every last friday&lt;br/&gt;every 14 days&lt;br/&gt;every 3rd monday &lt;em&gt;(of a month)&lt;/em&gt;&quot;</span>)
199: 
200:     <span class="ruby-identifier">options</span> = {
201:       <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;due_at&quot;</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;tooltip datefield&quot;</span>, <span class="ruby-value">:title</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">date_tooltip</span>.<span class="ruby-identifier">html_safe</span>,
202:       <span class="ruby-value">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>,
203:       <span class="ruby-value">:value</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">formatted_date_for_current_user</span>(<span class="ruby-identifier">task</span>.<span class="ruby-identifier">due_date</span>),
204:       <span class="ruby-value">:autocomplete</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;off&quot;</span>
205:     }
206:     <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">permissions</span>[<span class="ruby-value str">'edit'</span>])
207: 
208:     <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">task</span>.<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">blank?</span>
209:       <span class="ruby-identifier">options</span>[<span class="ruby-value">:value</span>] = <span class="ruby-ivar">@task</span>.<span class="ruby-identifier">repeat_summary</span>
210:     <span class="ruby-keyword kw">end</span>
211: 
212:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">text_field</span>(<span class="ruby-value str">&quot;task&quot;</span>, <span class="ruby-value str">&quot;due_at&quot;</span>, <span class="ruby-identifier">options</span>)
213:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="milestone-select-method" class="method-detail ">
				<a name="method-i-milestone_select"></a>

				<div class="method-heading">
				
					<span class="method-name">milestone_select</span><span
						class="method-args">(perms)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns the html to display a select field to set the tasks milestone. The
current milestone (if set) will be selected.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="milestone-select-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 50</span>
50:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">milestone_select</span>(<span class="ruby-identifier">perms</span>)
51: 
52:     <span class="ruby-identifier">milestones</span> = <span class="ruby-constant">Milestone</span>.<span class="ruby-identifier">order</span>(<span class="ruby-value str">'due_at, name'</span>).<span class="ruby-identifier">where</span>(<span class="ruby-value str">'company_id = ? AND project_id = ? AND completed_at IS NULL'</span>, <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">selected_project</span>)
53:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@task</span>.<span class="ruby-identifier">id</span>      
54:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">select</span>(<span class="ruby-value str">'task'</span>, <span class="ruby-value str">'milestone_id'</span>, [[<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;[None]&quot;</span>), <span class="ruby-value str">&quot;0&quot;</span>]] <span class="ruby-operator">+</span> <span class="ruby-identifier">milestones</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> [ <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span> ] }, {}, <span class="ruby-identifier">perms</span>[<span class="ruby-value str">'milestone'</span>])
55:     <span class="ruby-keyword kw">else</span>      
56:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">select</span>(<span class="ruby-value str">'task'</span>, <span class="ruby-value str">'milestone_id'</span>, [[<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;[None]&quot;</span>), <span class="ruby-value str">&quot;0&quot;</span>]] <span class="ruby-operator">+</span> <span class="ruby-identifier">milestones</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> [ <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">id</span> ] }, {<span class="ruby-value">:selected</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>}, <span class="ruby-identifier">perms</span>[<span class="ruby-value str">'milestone'</span>])
57:     <span class="ruby-keyword kw">end</span>
58:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="notify-emails-on-newlines-method" class="method-detail ">
				<a name="method-i-notify_emails_on_newlines"></a>

				<div class="method-heading">
				
					<span class="method-name">notify_emails_on_newlines</span><span
						class="method-args">(task)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the notify emails for the given task, one per line
</p>
					

					
					<div class="method-source-code"
						id="notify-emails-on-newlines-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 216</span>
216:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">notify_emails_on_newlines</span>(<span class="ruby-identifier">task</span>)
217:     <span class="ruby-identifier">emails</span> = <span class="ruby-identifier">task</span>.<span class="ruby-identifier">notify_emails_array</span>
218:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">emails</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;\n&quot;</span>)
219:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="options-for-changegroup-method" class="method-detail ">
				<a name="method-i-options_for_changegroup"></a>

				<div class="method-heading">
				
					<span class="method-name">options_for_changegroup</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="options-for-changegroup-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 289</span>
289:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">options_for_changegroup</span>
290:     <span class="ruby-identifier">cols</span> = [[<span class="ruby-value str">&quot;Grouped by Client&quot;</span>, <span class="ruby-value str">&quot;client&quot;</span>], [<span class="ruby-value str">&quot;Grouped by Milestone&quot;</span>, <span class="ruby-value str">&quot;milestone&quot;</span>], [<span class="ruby-value str">&quot;Grouped by Resolution&quot;</span>, <span class="ruby-value str">&quot;resolution&quot;</span>]]
291:     <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">properties</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
292:       <span class="ruby-identifier">cols</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-node">&quot;Grouped by #{p.name.camelize}&quot;</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">downcase</span>]
293:     <span class="ruby-keyword kw">end</span>
294:     <span class="ruby-identifier">cols</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-value str">&quot;Not Grouped&quot;</span>, <span class="ruby-value str">&quot;clear&quot;</span>]
295:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">options_for_select</span>(<span class="ruby-identifier">cols</span>, <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">preference</span>(<span class="ruby-value str">'task_grouping'</span>))
296:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="options-for-user-projects-method" class="method-detail ">
				<a name="method-i-options_for_user_projects"></a>

				<div class="method-heading">
				
					<span class="method-name">options_for_user_projects</span><span
						class="method-args">(task)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns a list of options to use for the project select tag.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="options-for-user-projects-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 129</span>
129:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">options_for_user_projects</span>(<span class="ruby-identifier">task</span>)
130:     <span class="ruby-identifier">projects</span> = <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">projects</span>.<span class="ruby-identifier">includes</span>(<span class="ruby-value">:customer</span>).<span class="ruby-identifier">order</span>(<span class="ruby-value str">&quot;customers.name, projects.name&quot;</span>)
131: 
132:     <span class="ruby-keyword kw">unless</span>  <span class="ruby-identifier">task</span>.<span class="ruby-identifier">new_record?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">projects</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">task</span>.<span class="ruby-identifier">project</span>)
133:       <span class="ruby-identifier">projects</span><span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">task</span>.<span class="ruby-identifier">project</span>
134:       <span class="ruby-identifier">projects</span>=<span class="ruby-identifier">projects</span>.<span class="ruby-identifier">sort_by</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">project</span><span class="ruby-operator">|</span> <span class="ruby-identifier">project</span>.<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">project</span>.<span class="ruby-identifier">name</span> }
135:     <span class="ruby-keyword kw">end</span>
136:     <span class="ruby-identifier">last_customer</span> = <span class="ruby-keyword kw">nil</span>
137:     <span class="ruby-identifier">options</span> = []
138: 
139:     <span class="ruby-identifier">projects</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">project</span><span class="ruby-operator">|</span>
140:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">project</span>.<span class="ruby-identifier">customer</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">last_customer</span>
141:         <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">h</span>(<span class="ruby-identifier">project</span>.<span class="ruby-identifier">customer</span>.<span class="ruby-identifier">name</span>), [] ]
142:         <span class="ruby-identifier">last_customer</span> = <span class="ruby-identifier">project</span>.<span class="ruby-identifier">customer</span>
143:       <span class="ruby-keyword kw">end</span>
144: 
145:       <span class="ruby-identifier">options</span>.<span class="ruby-identifier">last</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">project</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">project</span>.<span class="ruby-identifier">id</span> ]
146:     <span class="ruby-keyword kw">end</span>
147: 
148:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">grouped_options_for_select</span>(<span class="ruby-identifier">options</span>, <span class="ruby-identifier">task</span>.<span class="ruby-identifier">project_id</span>, <span class="ruby-value str">&quot;Please select&quot;</span>).<span class="ruby-identifier">html_safe</span>
149:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="perms-method" class="method-detail ">
				<a name="method-i-perms"></a>

				<div class="method-heading">
				
					<span class="method-name">perms</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a hash of permissions for the current task and user
</p>
					

					
					<div class="method-source-code"
						id="perms-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 252</span>
252:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">perms</span>
253:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@perms</span>.<span class="ruby-identifier">nil?</span>
254:       <span class="ruby-ivar">@perms</span> = {}
255:       <span class="ruby-identifier">permissions</span> = [<span class="ruby-value str">'comment'</span>, <span class="ruby-value str">'edit'</span>, <span class="ruby-value str">'reassign'</span>, <span class="ruby-value str">'close'</span>, <span class="ruby-value str">'milestone'</span>]
256:       <span class="ruby-identifier">permissions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
257:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@task</span>.<span class="ruby-identifier">project_id</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">can?</span>(<span class="ruby-ivar">@task</span>.<span class="ruby-identifier">project</span>, <span class="ruby-identifier">p</span>)
258:           <span class="ruby-ivar">@perms</span>[<span class="ruby-identifier">p</span>] = {}
259:         <span class="ruby-keyword kw">else</span>
260:           <span class="ruby-ivar">@perms</span>[<span class="ruby-identifier">p</span>] = { <span class="ruby-value">:disabled</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'disabled'</span> }
261:         <span class="ruby-keyword kw">end</span>
262:       <span class="ruby-keyword kw">end</span>
263: 
264:     <span class="ruby-keyword kw">end</span>
265: 
266:     <span class="ruby-ivar">@perms</span>
267:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="render-last-task-method" class="method-detail ">
				<a name="method-i-render_last_task"></a>

				<div class="method-heading">
				
					<span class="method-name">render_last_task</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Renders the last task the current user looked at
</p>
					

					
					<div class="method-source-code"
						id="render-last-task-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 270</span>
270:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_last_task</span>    
271:     <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@task</span>
272:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">render_to_string</span>(<span class="ruby-value">:template</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;tasks/edit&quot;</span>, <span class="ruby-value">:layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>)
273:     <span class="ruby-keyword kw">end</span>
274:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="render-task-dependants-method" class="method-detail ">
				<a name="method-i-render_task_dependants"></a>

				<div class="method-heading">
				
					<span class="method-name">render_task_dependants</span><span
						class="method-args">(t, depth, root_present)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="render-task-dependants-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 3</span>
 3:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_task_dependants</span>(<span class="ruby-identifier">t</span>, <span class="ruby-identifier">depth</span>, <span class="ruby-identifier">root_present</span>)
 4:     <span class="ruby-identifier">res</span> = <span class="ruby-value str">&quot;&quot;</span>
 5:     <span class="ruby-ivar">@printed_ids</span> <span class="ruby-operator">||=</span> []
 6: 
 7:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@printed_ids</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">id</span>
 8: 
 9:     <span class="ruby-identifier">shown</span> = <span class="ruby-identifier">task_shown?</span>(<span class="ruby-identifier">t</span>)
10: 
11:     <span class="ruby-ivar">@deps</span> = []
12: 
13:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">session</span>[<span class="ruby-value">:hide_dependencies</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
14:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">render</span>(<span class="ruby-value">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;task_row&quot;</span>, <span class="ruby-value">:locals</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:task</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">t</span>, <span class="ruby-value">:depth</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">depth</span>})
15:     <span class="ruby-keyword kw">else</span>
16:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">root_present</span>
17:         <span class="ruby-identifier">root</span> = <span class="ruby-keyword kw">nil</span>
18:         <span class="ruby-identifier">parents</span> = []
19:         <span class="ruby-identifier">p</span> = <span class="ruby-identifier">t</span>
20:         <span class="ruby-keyword kw">while</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">p</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>)
21:           <span class="ruby-identifier">root</span> = <span class="ruby-keyword kw">nil</span>
22:           <span class="ruby-identifier">p</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
23:             <span class="ruby-identifier">root</span> = <span class="ruby-identifier">dep</span> <span class="ruby-keyword kw">if</span>((<span class="ruby-operator">!</span><span class="ruby-identifier">dep</span>.<span class="ruby-identifier">done?</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-operator">!</span><span class="ruby-ivar">@deps</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">dep</span>.<span class="ruby-identifier">id</span>) ) )
24:           <span class="ruby-keyword kw">end</span>
25:           <span class="ruby-identifier">root</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">first</span> <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">p</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@deps</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">p</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">id</span>))
26:           <span class="ruby-identifier">p</span> = <span class="ruby-identifier">root</span>
27:           <span class="ruby-ivar">@deps</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">root</span>.<span class="ruby-identifier">id</span>
28:         <span class="ruby-keyword kw">end</span>
29:         <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">render_task_dependants</span>(<span class="ruby-identifier">root</span>, <span class="ruby-identifier">depth</span>, <span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">root</span>.<span class="ruby-identifier">nil?</span>
30:       <span class="ruby-keyword kw">else</span>
31:         <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">render</span>(<span class="ruby-value">:partial</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;task_row&quot;</span>, <span class="ruby-value">:locals</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-value">:task</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">t</span>, <span class="ruby-value">:depth</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">depth</span>, <span class="ruby-value">:override_filter</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">shown</span> }) <span class="ruby-keyword kw">if</span>( ((<span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">done?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">dependants</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">shown</span>)
32: 
33:         <span class="ruby-ivar">@printed_ids</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">id</span>
34: 
35:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">dependants</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
36:           <span class="ruby-identifier">t</span>.<span class="ruby-identifier">dependants</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>
37:             <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@printed_ids</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">id</span>
38:             <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">render_task_dependants</span>(<span class="ruby-identifier">child</span>, (((<span class="ruby-operator">!</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">done?</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">dependants</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">shown</span>) <span class="ruby-operator">?</span> (<span class="ruby-identifier">depth</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">depth</span> <span class="ruby-operator">+</span> <span class="ruby-value">2</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">depth</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">depth</span>, <span class="ruby-keyword kw">true</span> )
39:           <span class="ruby-keyword kw">end</span>
40:         <span class="ruby-keyword kw">end</span>
41:       <span class="ruby-keyword kw">end</span>
42:     <span class="ruby-keyword kw">end</span>
43:     <span class="ruby-identifier">res</span>
44:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="status-field-method" class="method-detail ">
				<a name="method-i-status_field"></a>

				<div class="method-heading">
				
					<span class="method-name">status_field</span><span
						class="method-args">(task)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns the html for the field to select status for a task.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="status-field-source">
<pre>
    <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 72</span>
72:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">status_field</span>(<span class="ruby-identifier">task</span>)
73:     <span class="ruby-identifier">options</span> = <span class="ruby-identifier">task</span>.<span class="ruby-identifier">statuses_for_select_list</span>
74:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Wait Until&quot;</span>), <span class="ruby-constant">Task</span><span class="ruby-operator">::</span><span class="ruby-constant">MAX_STATUS</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>]
75: 
76:     <span class="ruby-identifier">can_close</span> = {}
77:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">task</span>.<span class="ruby-identifier">project</span> <span class="ruby-keyword kw">and</span> <span class="ruby-operator">!</span><span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">can?</span>(<span class="ruby-identifier">task</span>.<span class="ruby-identifier">project</span>, <span class="ruby-value str">'close'</span>)
78:       <span class="ruby-identifier">can_close</span>[<span class="ruby-value">:disabled</span>] = <span class="ruby-value str">&quot;disabled&quot;</span>
79:     <span class="ruby-keyword kw">end</span>
80: 
81:     <span class="ruby-identifier">defer_options</span> = [ <span class="ruby-value str">&quot;&quot;</span> ]
82:     <span class="ruby-identifier">defer_options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Tomorrow&quot;</span>), <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_to_utc</span>(<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">at_midnight</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-value">:db</span>)  ]
83:     <span class="ruby-identifier">defer_options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;End of week&quot;</span>), <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_to_utc</span>(<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-operator">+</span> <span class="ruby-value">4</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-value">:db</span>)  ]
84:     <span class="ruby-identifier">defer_options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Next week&quot;</span>), <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_to_utc</span>(<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">beginning_of_week</span> <span class="ruby-operator">+</span> <span class="ruby-value">7</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-value">:db</span>) ]
85:     <span class="ruby-identifier">defer_options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;One week&quot;</span>), <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_to_utc</span>(<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">at_midnight</span> <span class="ruby-operator">+</span> <span class="ruby-value">7</span>.<span class="ruby-identifier">days</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-value">:db</span>) ]
86:     <span class="ruby-identifier">defer_options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Next month&quot;</span>), <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_to_utc</span>(<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">next_month</span>.<span class="ruby-identifier">beginning_of_month</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-value">:db</span>)]
87:     <span class="ruby-identifier">defer_options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;One month&quot;</span>), <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_to_utc</span>(<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">next_month</span>.<span class="ruby-identifier">at_midnight</span>).<span class="ruby-identifier">to_s</span>(<span class="ruby-value">:db</span>)]
88: 
89:     <span class="ruby-identifier">res</span> = <span class="ruby-identifier">select</span>(<span class="ruby-value str">'task'</span>, <span class="ruby-value str">'status'</span>, <span class="ruby-identifier">options</span>, {<span class="ruby-value">:selected</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@task</span>.<span class="ruby-identifier">status</span>}, <span class="ruby-identifier">can_close</span>)
90:     <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">'&lt;div id=&quot;defer_options&quot; style=&quot;display:none;&quot;&gt;'</span>.<span class="ruby-identifier">html_safe</span>
91:     <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">select</span>(<span class="ruby-value str">'task'</span>, <span class="ruby-value str">'hide_until'</span>, <span class="ruby-identifier">defer_options</span>, { <span class="ruby-value">:selected</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span> })
92:     <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot;&lt;/div&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span>
93: 
94:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>
95:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="task-customer-tip-method" class="method-detail ">
				<a name="method-i-task_customer_tip"></a>

				<div class="method-heading">
				
					<span class="method-name">task_customer_tip</span><span
						class="method-args">(customer)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns information about the customer as a tooltip
</p>
					

					
					<div class="method-source-code"
						id="task-customer-tip-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 222</span>
222:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">task_customer_tip</span>(<span class="ruby-identifier">customer</span>)
223:     <span class="ruby-identifier">values</span> = []
224:     <span class="ruby-identifier">values</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Contact Name&quot;</span>), <span class="ruby-identifier">customer</span>.<span class="ruby-identifier">contact_name</span> ]
225:     <span class="ruby-identifier">values</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Contact Email&quot;</span>), <span class="ruby-identifier">customer</span>.<span class="ruby-identifier">contact_email</span> ]
226:     <span class="ruby-identifier">customer</span>.<span class="ruby-identifier">custom_attribute_values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cav</span><span class="ruby-operator">|</span>
227:       <span class="ruby-identifier">values</span> <span class="ruby-operator">&lt;&lt;</span> [ <span class="ruby-identifier">cav</span>.<span class="ruby-identifier">custom_attribute</span>.<span class="ruby-identifier">display_name</span>, <span class="ruby-identifier">cav</span>.<span class="ruby-identifier">to_s</span> ]
228:     <span class="ruby-keyword kw">end</span>
229: 
230:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">task_tooltip</span>(<span class="ruby-identifier">values</span>)
231:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="task-milestone-tip-method" class="method-detail ">
				<a name="method-i-task_milestone_tip"></a>

				<div class="method-heading">
				
					<span class="method-name">task_milestone_tip</span><span
						class="method-args">(task)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a tooltip showing milestone information for a task
</p>
					

					
					<div class="method-source-code"
						id="task-milestone-tip-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 234</span>
234:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">task_milestone_tip</span>(<span class="ruby-identifier">task</span>)
235:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">task</span>.<span class="ruby-identifier">milestone_id</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">0</span>
236: 
237:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">task_tooltip</span>([ [ <span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Milestone Due Date&quot;</span>), <span class="ruby-identifier">formatted_date_for_current_user</span>(<span class="ruby-identifier">task</span>.<span class="ruby-identifier">milestone</span>.<span class="ruby-identifier">due_date</span>) ] ])
238:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="task-tooltip-method" class="method-detail ">
				<a name="method-i-task_tooltip"></a>

				<div class="method-heading">
				
					<span class="method-name">task_tooltip</span><span
						class="method-args">(names_and_values)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Converts the given array into a table that looks good in a tooltip
</p>
					

					
					<div class="method-source-code"
						id="task-tooltip-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 241</span>
241:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">task_tooltip</span>(<span class="ruby-identifier">names_and_values</span>)
242:     <span class="ruby-identifier">res</span> = <span class="ruby-value str">&quot;&lt;table id=\&quot;task_tooltip\&quot; cellpadding=0 cellspacing=0&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span>
243:     <span class="ruby-identifier">names_and_values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
244:       <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot;&lt;tr&gt;&lt;th&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;&lt;/th&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span>
245:       <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot;&lt;td&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;&lt;/td&gt;&lt;/tr&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span>
246:     <span class="ruby-keyword kw">end</span>
247:     <span class="ruby-identifier">res</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot;&lt;/table&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span>
248:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>
249:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="unread-toggle-for-task-and-user-method" class="method-detail ">
				<a name="method-i-unread_toggle_for_task_and_user"></a>

				<div class="method-heading">
				
					<span class="method-name">unread_toggle_for_task_and_user</span><span
						class="method-args">(task, user)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the html for a completely self contained unread toggle for the
given task and user
</p>
					

					
					<div class="method-source-code"
						id="unread-toggle-for-task-and-user-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 278</span>
278:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unread_toggle_for_task_and_user</span>(<span class="ruby-identifier">task</span>, <span class="ruby-identifier">user</span>)
279:     <span class="ruby-identifier">classname</span> = <span class="ruby-value str">&quot;task&quot;</span>
280:     <span class="ruby-identifier">classname</span> <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot; unread&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">task</span>.<span class="ruby-identifier">unread?</span>(<span class="ruby-identifier">user</span>)
281: 
282:     <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:span</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">classname</span>, <span class="ruby-value">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;task_#{ task.task_num }&quot;</span>) <span class="ruby-keyword kw">do</span>
283:       <span class="ruby-identifier">content_tag</span>(<span class="ruby-value">:span</span>, <span class="ruby-value">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;unread_icon&quot;</span>) <span class="ruby-keyword kw">do</span>
284:         <span class="ruby-identifier">link_to_function</span>(<span class="ruby-value str">&quot;&lt;span&gt;*&lt;/span&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span>, <span class="ruby-node">&quot;toggleTaskUnread(event, #{ user.id })&quot;</span>)
285:       <span class="ruby-keyword kw">end</span>
286:     <span class="ruby-keyword kw">end</span>
287:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="work-log-customer-options-method" class="method-detail ">
				<a name="method-i-work_log_customer_options"></a>

				<div class="method-heading">
				
					<span class="method-name">work_log_customer_options</span><span
						class="method-args">(log)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a list of customers/clients that could a log could potentially be
attached to
</p>
					

					
					<div class="method-source-code"
						id="work-log-customer-options-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 187</span>
187:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">work_log_customer_options</span>(<span class="ruby-identifier">log</span>)
188:     <span class="ruby-identifier">res</span> = <span class="ruby-ivar">@log</span>.<span class="ruby-identifier">task</span>.<span class="ruby-identifier">customers</span>.<span class="ruby-identifier">clone</span>
189:     <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@log</span>.<span class="ruby-identifier">task</span>.<span class="ruby-identifier">project</span>.<span class="ruby-identifier">customer</span>
190: 
191:     <span class="ruby-identifier">res</span> = <span class="ruby-identifier">res</span>.<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">compact</span>
192:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">objects_to_names_and_ids</span>(<span class="ruby-identifier">res</span>)
193:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="work-log-status-html-options-method" class="method-detail ">
				<a name="method-i-work_log_status_html_options"></a>

				<div class="method-heading">
				
					<span class="method-name">work_log_status_html_options</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns a hash to use as the options for the task status dropdown on the
work log edit page.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="work-log-status-html-options-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 178</span>
178:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">work_log_status_html_options</span>
179:     <span class="ruby-identifier">options</span> = {}
180:     <span class="ruby-identifier">options</span>[<span class="ruby-value">:disabled</span>] = <span class="ruby-value str">&quot;disabled&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">can?</span>( <span class="ruby-ivar">@task</span>.<span class="ruby-identifier">project</span>, <span class="ruby-value str">&quot;close&quot;</span> )
181: 
182:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">options</span>
183:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="work-log-status-options-method" class="method-detail ">
				<a name="method-i-work_log_status_options"></a>

				<div class="method-heading">
				
					<span class="method-name">work_log_status_options</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Returns an array to use as the options for a select to change a work
log&#8217;s status.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="work-log-status-options-source">
<pre>
     <span class="ruby-comment cmt"># File app/helpers/tasks_helper.rb, line 156</span>
156:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">work_log_status_options</span>
157:     <span class="ruby-identifier">options</span> = []
158: <span class="ruby-comment cmt">#this code make assumtion about internal task structure</span>
159: <span class="ruby-comment cmt">#TODO: move it to Task model</span>
160:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Leave Open&quot;</span>), <span class="ruby-constant">Task</span><span class="ruby-operator">::</span><span class="ruby-constant">OPEN</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@task</span>.<span class="ruby-identifier">resolved?</span>
161:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Revert to Open&quot;</span>), <span class="ruby-constant">Task</span><span class="ruby-operator">::</span><span class="ruby-constant">OPEN</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@task</span>.<span class="ruby-identifier">resolved?</span>
162:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Close&quot;</span>), <span class="ruby-constant">Task</span><span class="ruby-operator">::</span><span class="ruby-constant">CLOSED</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@task</span>.<span class="ruby-identifier">resolved?</span>
163:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Leave Closed&quot;</span>),<span class="ruby-constant">Task</span><span class="ruby-operator">::</span><span class="ruby-constant">CLOSED</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@task</span>.<span class="ruby-identifier">closed?</span>
164:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Set as Won't Fix&quot;</span>), <span class="ruby-constant">Task</span><span class="ruby-operator">::</span><span class="ruby-constant">WILL_NOT_FIX</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@task</span>.<span class="ruby-identifier">resolved?</span>
165:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Leave as Won't Fix&quot;</span>),<span class="ruby-constant">Task</span><span class="ruby-operator">::</span><span class="ruby-constant">WILL_NOT_FIX</span> ] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@task</span>.<span class="ruby-identifier">will_not_fix?</span>
166:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Set as Invalid&quot;</span>), <span class="ruby-constant">Task</span><span class="ruby-operator">::</span><span class="ruby-constant">INVALID</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@task</span>.<span class="ruby-identifier">resolved?</span>
167:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Leave as Invalid&quot;</span>), <span class="ruby-constant">Task</span><span class="ruby-operator">::</span><span class="ruby-constant">INVALID</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@task</span>.<span class="ruby-identifier">invalid?</span>
168:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Set as Duplicate&quot;</span>), <span class="ruby-constant">Task</span><span class="ruby-operator">::</span><span class="ruby-constant">DUPLICATE</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@task</span>.<span class="ruby-identifier">resolved?</span>
169:     <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> [<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;Leave as Duplicate&quot;</span>), <span class="ruby-constant">Task</span><span class="ruby-operator">::</span><span class="ruby-constant">DUPLICATE</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@task</span>.<span class="ruby-identifier">duplicate?</span>
170: 
171:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">options</span>
172:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

