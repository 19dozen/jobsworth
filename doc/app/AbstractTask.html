<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: AbstractTask</title>

	<link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="./app/models/abstract_task_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="app/models/abstract_task.rb">app/models/abstract_task.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link"><a href="ActiveRecord/Base.html">ActiveRecord::Base</a></p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-status_types">::status_types</a></li>
					
					<li><a href="#method-i-closed%3F">#closed?</a></li>
					
					<li><a href="#method-i-create_attachments">#create_attachments</a></li>
					
					<li><a href="#method-i-css_classes">#css_classes</a></li>
					
					<li><a href="#method-i-description_wrapped">#description_wrapped</a></li>
					
					<li><a href="#method-i-done">#done</a></li>
					
					<li><a href="#method-i-done%3F">#done?</a></li>
					
					<li><a href="#method-i-due">#due</a></li>
					
					<li><a href="#method-i-due_date">#due_date</a></li>
					
					<li><a href="#method-i-duplicate%3F">#duplicate?</a></li>
					
					<li><a href="#method-i-escape_twice">#escape_twice</a></li>
					
					<li><a href="#method-i-full_name">#full_name</a></li>
					
					<li><a href="#method-i-full_name_without_links">#full_name_without_links</a></li>
					
					<li><a href="#method-i-full_tags">#full_tags</a></li>
					
					<li><a href="#method-i-full_tags_without_links">#full_tags_without_links</a></li>
					
					<li><a href="#method-i-has_tag%3F">#has_tag?</a></li>
					
					<li><a href="#method-i-invalid%3F">#invalid?</a></li>
					
					<li><a href="#method-i-issue_name">#issue_name</a></li>
					
					<li><a href="#method-i-issue_num">#issue_num</a></li>
					
					<li><a href="#method-i-next_repeat_date">#next_repeat_date</a></li>
					
					<li><a href="#method-i-notify_emails_array">#notify_emails_array</a></li>
					
					<li><a href="#method-i-open%3F">#open?</a></li>
					
					<li><a href="#method-i-order_date">#order_date</a></li>
					
					<li><a href="#method-i-overdue%3F">#overdue?</a></li>
					
					<li><a href="#method-i-owners_to_display">#owners_to_display</a></li>
					
					<li><a href="#method-i-parse_repeat">#parse_repeat</a></li>
					
					<li><a href="#method-i-properties%3D">#properties=</a></li>
					
					<li><a href="#method-i-property_value">#property_value</a></li>
					
					<li><a href="#method-i-repeat_summary">#repeat_summary</a></li>
					
					<li><a href="#method-i-resolved%3F">#resolved?</a></li>
					
					<li><a href="#method-i-set_default_properties">#set_default_properties</a></li>
					
					<li><a href="#method-i-set_dependency_attributes">#set_dependency_attributes</a></li>
					
					<li><a href="#method-i-set_owner_ids">#set_owner_ids</a></li>
					
					<li><a href="#method-i-set_property_value">#set_property_value</a></li>
					
					<li><a href="#method-i-set_resource_attributes">#set_resource_attributes</a></li>
					
					<li><a href="#method-i-set_tags">#set_tags</a></li>
					
					<li><a href="#method-i-set_tags%3D">#set_tags=</a></li>
					
					<li><a href="#method-i-set_task_num">#set_task_num</a></li>
					
					<li><a href="#method-i-set_task_read">#set_task_read</a></li>
					
					<li><a href="#method-i-set_users">#set_users</a></li>
					
					<li><a href="#method-i-set_users_dependencies_resources">#set_users_dependencies_resources</a></li>
					
					<li><a href="#method-i-set_watcher_ids">#set_watcher_ids</a></li>
					
					<li><a href="#method-i-start_date">#start_date</a></li>
					
					<li><a href="#method-i-status_name">#status_name</a></li>
					
					<li><a href="#method-i-status_type">#status_type</a></li>
					
					<li><a href="#method-i-statuses_for_select_list">#statuses_for_select_list</a></li>
					
					<li><a href="#method-i-tagstring">#tagstring</a></li>
					
					<li><a href="#method-i-to_s">#to_s</a></li>
					
					<li><a href="#method-i-to_tip">#to_tip</a></li>
					
					<li><a href="#method-i-todo_count">#todo_count</a></li>
					
					<li><a href="#method-i-todo_status">#todo_status</a></li>
					
					<li><a href="#method-i-unread%3F">#unread?</a></li>
					
					<li><a href="#method-i-validate_properties">#validate_properties</a></li>
					
					<li><a href="#method-i-will_not_fix%3F">#will_not_fix?</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
			<div id="includes-section" class="section">
				<h3 class="section-header">Included Modules</h3>
				<ul class="link-list">
				
				
					<li><a class="include" href="Misc.html">Misc</a></li>
				
				
				</ul>
			</div>
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="./LICENSE.html">LICENSE</a></li>
				
					<li class="file"><a href="./NOTICE.html">NOTICE</a></li>
				
					<li class="file"><a href="./README_rdoc.html">README.rdoc</a></li>
				
					<li class="file"><a href="./RELEASE-NOTES.html">RELEASE-NOTES</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./ActionController.html">ActionController</a></li>
				
					<li><a href="./ActionController/Caching.html">ActionController::Caching</a></li>
				
					<li><a href="./ActionController/Caching/Fragments.html">ActionController::Caching::Fragments</a></li>
				
					<li><a href="./ActionView.html">ActionView</a></li>
				
					<li><a href="./ActionView/Helpers.html">ActionView::Helpers</a></li>
				
					<li><a href="./ActionView/Helpers/DateHelper.html">ActionView::Helpers::DateHelper</a></li>
				
					<li><a href="./ActiveSupport.html">ActiveSupport</a></li>
				
					<li><a href="./ActiveSupport/Cache.html">ActiveSupport::Cache</a></li>
				
					<li><a href="./ActiveSupport/Cache/FileStore.html">ActiveSupport::Cache::FileStore</a></li>
				
					<li><a href="./ActiveRecord.html">ActiveRecord</a></li>
				
					<li><a href="./ActiveRecord/Base.html">ActiveRecord::Base</a></li>
				
					<li><a href="./AbstractTask.html">AbstractTask</a></li>
				
					<li><a href="./AccessLevel.html">AccessLevel</a></li>
				
					<li><a href="./ActivitiesController.html">ActivitiesController</a></li>
				
					<li><a href="./ActivitiesHelper.html">ActivitiesHelper</a></li>
				
					<li><a href="./AdminController.html">AdminController</a></li>
				
					<li><a href="./AdminHelper.html">AdminHelper</a></li>
				
					<li><a href="./ApiController.html">ApiController</a></li>
				
					<li><a href="./ApiHelper.html">ApiHelper</a></li>
				
					<li><a href="./ApplicationController.html">ApplicationController</a></li>
				
					<li><a href="./ApplicationHelper.html">ApplicationHelper</a></li>
				
					<li><a href="./ClientsController.html">ClientsController</a></li>
				
					<li><a href="./ClientsHelper.html">ClientsHelper</a></li>
				
					<li><a href="./CompaniesController.html">CompaniesController</a></li>
				
					<li><a href="./CompaniesHelper.html">CompaniesHelper</a></li>
				
					<li><a href="./Company.html">Company</a></li>
				
					<li><a href="./CustomAttribute.html">CustomAttribute</a></li>
				
					<li><a href="./CustomAttributeChoice.html">CustomAttributeChoice</a></li>
				
					<li><a href="./CustomAttributeMethods.html">CustomAttributeMethods</a></li>
				
					<li><a href="./CustomAttributeValue.html">CustomAttributeValue</a></li>
				
					<li><a href="./CustomAttributesController.html">CustomAttributesController</a></li>
				
					<li><a href="./CustomAttributesHelper.html">CustomAttributesHelper</a></li>
				
					<li><a href="./Customer.html">Customer</a></li>
				
					<li><a href="./Date.html">Date</a></li>
				
					<li><a href="./DateAndTimeHelper.html">DateAndTimeHelper</a></li>
				
					<li><a href="./Email.html">Email</a></li>
				
					<li><a href="./EmailAddress.html">EmailAddress</a></li>
				
					<li><a href="./EventLog.html">EventLog</a></li>
				
					<li><a href="./FeedsController.html">FeedsController</a></li>
				
					<li><a href="./FeedsHelper.html">FeedsHelper</a></li>
				
					<li><a href="./Forum.html">Forum</a></li>
				
					<li><a href="./ForumsController.html">ForumsController</a></li>
				
					<li><a href="./ForumsHelper.html">ForumsHelper</a></li>
				
					<li><a href="./GeneratedReport.html">GeneratedReport</a></li>
				
					<li><a href="./IcalEntry.html">IcalEntry</a></li>
				
					<li><a href="./Keyword.html">Keyword</a></li>
				
					<li><a href="./Locale.html">Locale</a></li>
				
					<li><a href="./LocalesController.html">LocalesController</a></li>
				
					<li><a href="./LocalesHelper.html">LocalesHelper</a></li>
				
					<li><a href="./Localization.html">Localization</a></li>
				
					<li><a href="./LoginController.html">LoginController</a></li>
				
					<li><a href="./LoginHelper.html">LoginHelper</a></li>
				
					<li><a href="./Mailman.html">Mailman</a></li>
				
					<li><a href="./MigrationHelpers.html">MigrationHelpers</a></li>
				
					<li><a href="./Milestone.html">Milestone</a></li>
				
					<li><a href="./MilestonesController.html">MilestonesController</a></li>
				
					<li><a href="./MilestonesHelper.html">MilestonesHelper</a></li>
				
					<li><a href="./Misc.html">Misc</a></li>
				
					<li><a href="./ModeratorsController.html">ModeratorsController</a></li>
				
					<li><a href="./ModeratorsHelper.html">ModeratorsHelper</a></li>
				
					<li><a href="./Moderatorship.html">Moderatorship</a></li>
				
					<li><a href="./Monitorship.html">Monitorship</a></li>
				
					<li><a href="./MonitorshipsController.html">MonitorshipsController</a></li>
				
					<li><a href="./MonitorshipsHelper.html">MonitorshipsHelper</a></li>
				
					<li><a href="./NewsItem.html">NewsItem</a></li>
				
					<li><a href="./Notifications.html">Notifications</a></li>
				
					<li><a href="./NotificationsHelper.html">NotificationsHelper</a></li>
				
					<li><a href="./Object.html">Object</a></li>
				
					<li><a href="./ObjectFilter.html">ObjectFilter</a></li>
				
					<li><a href="./OrderedHash.html">OrderedHash</a></li>
				
					<li><a href="./OrganizationalUnit.html">OrganizationalUnit</a></li>
				
					<li><a href="./OrganizationalUnitHelper.html">OrganizationalUnitHelper</a></li>
				
					<li><a href="./OrganizationalUnitsController.html">OrganizationalUnitsController</a></li>
				
					<li><a href="./Page.html">Page</a></li>
				
					<li><a href="./PagesController.html">PagesController</a></li>
				
					<li><a href="./PagesHelper.html">PagesHelper</a></li>
				
					<li><a href="./Post.html">Post</a></li>
				
					<li><a href="./PostsController.html">PostsController</a></li>
				
					<li><a href="./PostsHelper.html">PostsHelper</a></li>
				
					<li><a href="./Preference.html">Preference</a></li>
				
					<li><a href="./PreferenceMethods.html">PreferenceMethods</a></li>
				
					<li><a href="./Project.html">Project</a></li>
				
					<li><a href="./ProjectFile.html">ProjectFile</a></li>
				
					<li><a href="./ProjectFilesController.html">ProjectFilesController</a></li>
				
					<li><a href="./ProjectFilesHelper.html">ProjectFilesHelper</a></li>
				
					<li><a href="./ProjectFolder.html">ProjectFolder</a></li>
				
					<li><a href="./ProjectPermission.html">ProjectPermission</a></li>
				
					<li><a href="./ProjectSweeper.html">ProjectSweeper</a></li>
				
					<li><a href="./ProjectsController.html">ProjectsController</a></li>
				
					<li><a href="./ProjectsHelper.html">ProjectsHelper</a></li>
				
					<li><a href="./PropertiesController.html">PropertiesController</a></li>
				
					<li><a href="./PropertiesHelper.html">PropertiesHelper</a></li>
				
					<li><a href="./Property.html">Property</a></li>
				
					<li><a href="./PropertyValue.html">PropertyValue</a></li>
				
					<li><a href="./ReportsController.html">ReportsController</a></li>
				
					<li><a href="./ReportsHelper.html">ReportsHelper</a></li>
				
					<li><a href="./Resource.html">Resource</a></li>
				
					<li><a href="./ResourceAttribute.html">ResourceAttribute</a></li>
				
					<li><a href="./ResourceType.html">ResourceType</a></li>
				
					<li><a href="./ResourceTypeAttribute.html">ResourceTypeAttribute</a></li>
				
					<li><a href="./ResourceTypesController.html">ResourceTypesController</a></li>
				
					<li><a href="./ResourceTypesHelper.html">ResourceTypesHelper</a></li>
				
					<li><a href="./ResourcesController.html">ResourcesController</a></li>
				
					<li><a href="./ResourcesHelper.html">ResourcesHelper</a></li>
				
					<li><a href="./ScheduleController.html">ScheduleController</a></li>
				
					<li><a href="./ScheduleHelper.html">ScheduleHelper</a></li>
				
					<li><a href="./ScmChangeset.html">ScmChangeset</a></li>
				
					<li><a href="./ScmChangesetsController.html">ScmChangesetsController</a></li>
				
					<li><a href="./ScmChangesetsHelper.html">ScmChangesetsHelper</a></li>
				
					<li><a href="./ScmFile.html">ScmFile</a></li>
				
					<li><a href="./ScmProject.html">ScmProject</a></li>
				
					<li><a href="./ScmProjectsController.html">ScmProjectsController</a></li>
				
					<li><a href="./ScmProjectsHelper.html">ScmProjectsHelper</a></li>
				
					<li><a href="./ScriptsController.html">ScriptsController</a></li>
				
					<li><a href="./Search.html">Search</a></li>
				
					<li><a href="./SearchController.html">SearchController</a></li>
				
					<li><a href="./Sheet.html">Sheet</a></li>
				
					<li><a href="./Signup.html">Signup</a></li>
				
					<li><a href="./Status.html">Status</a></li>
				
					<li><a href="./Tag.html">Tag</a></li>
				
					<li><a href="./TagSweeper.html">TagSweeper</a></li>
				
					<li><a href="./TagsController.html">TagsController</a></li>
				
					<li><a href="./TagsHelper.html">TagsHelper</a></li>
				
					<li><a href="./Task.html">Task</a></li>
				
					<li><a href="./TaskCustomer.html">TaskCustomer</a></li>
				
					<li><a href="./TaskFilter.html">TaskFilter</a></li>
				
					<li><a href="./TaskFilterHelper.html">TaskFilterHelper</a></li>
				
					<li><a href="./TaskFilterQualifier.html">TaskFilterQualifier</a></li>
				
					<li><a href="./TaskFiltersController.html">TaskFiltersController</a></li>
				
					<li><a href="./TaskOwner.html">TaskOwner</a></li>
				
					<li><a href="./TaskPropertyValue.html">TaskPropertyValue</a></li>
				
					<li><a href="./TaskTemplatesController.html">TaskTemplatesController</a></li>
				
					<li><a href="./TaskTemplatesHelper.html">TaskTemplatesHelper</a></li>
				
					<li><a href="./TaskUser.html">TaskUser</a></li>
				
					<li><a href="./TaskWatcher.html">TaskWatcher</a></li>
				
					<li><a href="./TasksController.html">TasksController</a></li>
				
					<li><a href="./TasksHelper.html">TasksHelper</a></li>
				
					<li><a href="./Template.html">Template</a></li>
				
					<li><a href="./Thumbnail.html">Thumbnail</a></li>
				
					<li><a href="./Time.html">Time</a></li>
				
					<li><a href="./TimeParser.html">TimeParser</a></li>
				
					<li><a href="./TimeRange.html">TimeRange</a></li>
				
					<li><a href="./TimeTrackingHelper.html">TimeTrackingHelper</a></li>
				
					<li><a href="./TimelineController.html">TimelineController</a></li>
				
					<li><a href="./TimelineHelper.html">TimelineHelper</a></li>
				
					<li><a href="./Todo.html">Todo</a></li>
				
					<li><a href="./TodosController.html">TodosController</a></li>
				
					<li><a href="./TodosHelper.html">TodosHelper</a></li>
				
					<li><a href="./Topic.html">Topic</a></li>
				
					<li><a href="./TopicsController.html">TopicsController</a></li>
				
					<li><a href="./TopicsHelper.html">TopicsHelper</a></li>
				
					<li><a href="./Trigger.html">Trigger</a></li>
				
					<li><a href="./TriggersController.html">TriggersController</a></li>
				
					<li><a href="./TriggersHelper.html">TriggersHelper</a></li>
				
					<li><a href="./User.html">User</a></li>
				
					<li><a href="./UsersController.html">UsersController</a></li>
				
					<li><a href="./UsersHelper.html">UsersHelper</a></li>
				
					<li><a href="./Widget.html">Widget</a></li>
				
					<li><a href="./WidgetsController.html">WidgetsController</a></li>
				
					<li><a href="./WidgetsHelper.html">WidgetsHelper</a></li>
				
					<li><a href="./WikiController.html">WikiController</a></li>
				
					<li><a href="./WikiHelper.html">WikiHelper</a></li>
				
					<li><a href="./WikiPage.html">WikiPage</a></li>
				
					<li><a href="./WikiReference.html">WikiReference</a></li>
				
					<li><a href="./WikiRevision.html">WikiRevision</a></li>
				
					<li><a href="./WorkController.html">WorkController</a></li>
				
					<li><a href="./WorkHelper.html">WorkHelper</a></li>
				
					<li><a href="./WorkLog.html">WorkLog</a></li>
				
					<li><a href="./WorkLogNotification.html">WorkLogNotification</a></li>
				
					<li><a href="./WorkLogsController.html">WorkLogsController</a></li>
				
					<li><a href="./WorkLogsHelper.html">WorkLogsHelper</a></li>
				
					<li><a href="./WorklogReport.html">WorklogReport</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">AbstractTask</h1>

		<div id="description">
			<p>
this is abstract class for <a href="Task.html">Task</a> and <a
href="Template.html">Template</a>
</p>

		</div>

		<!-- Constants -->
		
		<div id="constants-list" class="section">
			<h3 class="section-header">Constants</h3>
			<dl>
			
				<dt><a name="OPEN">OPEN</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="CLOSED">CLOSED</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="WILL_NOT_FIX">WILL_NOT_FIX</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="INVALID">INVALID</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="DUPLICATE">DUPLICATE</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="MAX_STATUS">MAX_STATUS</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="REPEAT_DATE">REPEAT_DATE</a></dt>
				
				<dd class="description"></dd>
				
			
			</dl>
		</div>
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="status-types-method" class="method-detail ">
				<a name="method-c-status_types"></a>

				<div class="method-heading">
				
					<span class="method-name">status_types</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="status-types-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 364</span>
364:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">status_types</span>
365:     <span class="ruby-constant">Company</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">statuses</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">name</span> }
366:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="closed--method" class="method-detail ">
				<a name="method-i-closed%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">closed?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="closed--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 280</span>
280:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">closed?</span>
281:     <span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
282:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="create-attachments-method" class="method-detail ">
				<a name="method-i-create_attachments"></a>

				<div class="method-heading">
				
					<span class="method-name">create_attachments</span><span
						class="method-args">(params, current_user)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="create-attachments-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 513</span>
513:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_attachments</span>(<span class="ruby-identifier">params</span>, <span class="ruby-identifier">current_user</span>)
514:     <span class="ruby-identifier">filenames</span> = []
515:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-value str">'tmp_files'</span>].<span class="ruby-identifier">blank?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">params</span>[<span class="ruby-value str">'tmp_files'</span>].<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>}.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
516:       <span class="ruby-identifier">params</span>[<span class="ruby-value str">'tmp_files'</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">tmp_file</span><span class="ruby-operator">|</span>
517:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tmp_file</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
518:         <span class="ruby-identifier">task_file</span> = <span class="ruby-constant">ProjectFile</span>.<span class="ruby-identifier">new</span>()
519:         <span class="ruby-identifier">task_file</span>.<span class="ruby-identifier">company</span> = <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">company</span>
520:         <span class="ruby-identifier">task_file</span>.<span class="ruby-identifier">customer</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">project</span>.<span class="ruby-identifier">customer</span>
521:         <span class="ruby-identifier">task_file</span>.<span class="ruby-identifier">project</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">project</span>
522:         <span class="ruby-identifier">task_file</span>.<span class="ruby-identifier">task_id</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">id</span>
523:         <span class="ruby-identifier">task_file</span>.<span class="ruby-identifier">user_id</span> = <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">id</span>
524:         <span class="ruby-identifier">task_file</span>.<span class="ruby-identifier">file</span>=<span class="ruby-identifier">tmp_file</span>
525:         <span class="ruby-identifier">task_file</span>.<span class="ruby-identifier">save!</span>
526: 
527:         <span class="ruby-identifier">filenames</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">task_file</span>.<span class="ruby-identifier">file_file_name</span>
528:       <span class="ruby-keyword kw">end</span>
529:     <span class="ruby-keyword kw">end</span>
530:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">filenames</span>
531:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="css-classes-method" class="method-detail ">
				<a name="method-i-css_classes"></a>

				<div class="method-heading">
				
					<span class="method-name">css_classes</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="css-classes-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 413</span>
413:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">css_classes</span>
414:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@css</span>
415:       <span class="ruby-ivar">@css</span>= <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">open?</span>
416:         <span class="ruby-value str">&quot;&quot;</span>
417:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">closed?</span>
418:         <span class="ruby-value str">&quot; closed&quot;</span>
419:       <span class="ruby-keyword kw">else</span>
420:         <span class="ruby-value str">&quot; invalid&quot;</span>
421:       <span class="ruby-keyword kw">end</span>
422:     <span class="ruby-keyword kw">end</span>
423:     <span class="ruby-ivar">@css</span>
424:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="description-wrapped-method" class="method-detail ">
				<a name="method-i-description_wrapped"></a>

				<div class="method-heading">
				
					<span class="method-name">description_wrapped</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="description-wrapped-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 405</span>
405:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">description_wrapped</span>
406:     <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">description</span>.<span class="ruby-identifier">blank?</span>
407:       <span class="ruby-identifier">truncate</span>( <span class="ruby-identifier">word_wrap</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">description</span>, <span class="ruby-value">:line_width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">80</span>), <span class="ruby-value">:length</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1000</span>)
408:     <span class="ruby-keyword kw">else</span>
409:       <span class="ruby-keyword kw">nil</span>
410:     <span class="ruby-keyword kw">end</span>
411:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="done-method" class="method-detail ">
				<a name="method-i-done"></a>

				<div class="method-heading">
				
					<span class="method-name">done</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="done-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 297</span>
297:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">done</span>
298:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">resolved?</span>
299:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="done--method" class="method-detail ">
				<a name="method-i-done%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">done?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="done--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 293</span>
293:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">done?</span>
294:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">resolved?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">completed_at</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>
295:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="due-method" class="method-detail method-alias">
				<a name="method-i-due"></a>

				<div class="method-heading">
				
					<span class="method-name">due</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
				</div>

				

				
				<div class="aliases">
          Alias for: <a href="AbstractTask.html#method-i-due_date">due_date</a>
				</div>
				
			</div>

		
			<div id="due-date-method" class="method-detail ">
				<a name="method-i-due_date"></a>

				<div class="method-heading">
				
					<span class="method-name">due_date</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="due-date-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 316</span>
316:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">due_date</span>
317:     <span class="ruby-identifier">due</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">due_at</span>
318:     <span class="ruby-identifier">due</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">milestone</span>.<span class="ruby-identifier">due_at</span> <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">due</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">milestone_id</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">milestone</span>)
319:     <span class="ruby-identifier">due</span>
320:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="AbstractTask.html#method-i-due">due</a>
				</div>
				

				
			</div>

		
			<div id="duplicate--method" class="method-detail ">
				<a name="method-i-duplicate%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">duplicate?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="duplicate--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 290</span>
290:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">duplicate?</span>
291:     <span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-value">4</span>
292:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="escape-twice-method" class="method-detail ">
				<a name="method-i-escape_twice"></a>

				<div class="method-heading">
				
					<span class="method-name">escape_twice</span><span
						class="method-args">(attr)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="escape-twice-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 242</span>
242:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">escape_twice</span>(<span class="ruby-identifier">attr</span>)
243:     <span class="ruby-identifier">h</span>(<span class="ruby-constant">String</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">h</span>(<span class="ruby-identifier">attr</span>)))
244:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="full-name-method" class="method-detail ">
				<a name="method-i-full_name"></a>

				<div class="method-heading">
				
					<span class="method-name">full_name</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="full-name-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 324</span>
324:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">full_name</span>
325:     <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">project</span>
326:       [<span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">h</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">project</span>.<span class="ruby-identifier">full_name</span>), <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">full_tags</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">' / '</span>).<span class="ruby-identifier">html_safe</span>
327:     <span class="ruby-keyword kw">else</span>
328:       <span class="ruby-value str">&quot;&quot;</span>
329:     <span class="ruby-keyword kw">end</span>
330:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="full-name-without-links-method" class="method-detail ">
				<a name="method-i-full_name_without_links"></a>

				<div class="method-heading">
				
					<span class="method-name">full_name_without_links</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="full-name-without-links-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 336</span>
336:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">full_name_without_links</span>
337:     [<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">project</span>.<span class="ruby-identifier">full_name</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">full_tags_without_links</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">' / '</span>)
338:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="full-tags-method" class="method-detail ">
				<a name="method-i-full_tags"></a>

				<div class="method-heading">
				
					<span class="method-name">full_tags</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="full-tags-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 332</span>
332:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">full_tags</span>
333:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;&lt;a href=\&quot;/tasks/list/?tag=#{ERB::Util.h t.name}\&quot; class=\&quot;description\&quot;&gt;#{ERB::Util.h t.name.capitalize.gsub(/\&quot;/,'&amp;quot;'.html_safe)}&lt;/a&gt;&quot;</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; / &quot;</span>).<span class="ruby-identifier">html_safe</span>
334:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="full-tags-without-links-method" class="method-detail ">
				<a name="method-i-full_tags_without_links"></a>

				<div class="method-heading">
				
					<span class="method-name">full_tags_without_links</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="full-tags-without-links-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 340</span>
340:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">full_tags_without_links</span>
341:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">capitalize</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; / &quot;</span>)
342:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="has-tag--method" class="method-detail ">
				<a name="method-i-has_tag%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">has_tag?</span><span
						class="method-args">(tag)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="has-tag--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 396</span>
396:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_tag?</span>(<span class="ruby-identifier">tag</span>)
397:     <span class="ruby-identifier">name</span> = <span class="ruby-identifier">tag</span>.<span class="ruby-identifier">to_s</span>
398:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span>}.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">name</span>
399:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="invalid--method" class="method-detail ">
				<a name="method-i-invalid%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">invalid?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="invalid--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 287</span>
287:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">invalid?</span>
288:     <span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-value">3</span>
289:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="issue-name-method" class="method-detail ">
				<a name="method-i-issue_name"></a>

				<div class="method-heading">
				
					<span class="method-name">issue_name</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="issue-name-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 344</span>
344:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">issue_name</span>
345:     <span class="ruby-node">&quot;[##{self.task_num}] #{self[:name]}&quot;</span>
346:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="issue-num-method" class="method-detail ">
				<a name="method-i-issue_num"></a>

				<div class="method-heading">
				
					<span class="method-name">issue_num</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="issue-num-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 348</span>
348:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">issue_num</span>
349:     <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">status</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
350:     <span class="ruby-node">&quot;&lt;strike&gt;##{self.task_num}&lt;/strike&gt;&quot;</span>.<span class="ruby-identifier">html_safe</span>
351:     <span class="ruby-keyword kw">else</span>
352:     <span class="ruby-node">&quot;##{self.task_num}&quot;</span>
353:     <span class="ruby-keyword kw">end</span>
354:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="next-repeat-date-method" class="method-detail ">
				<a name="method-i-next_repeat_date"></a>

				<div class="method-heading">
				
					<span class="method-name">next_repeat_date</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
w: 1, next day-of-week: Every <em>Sunday</em> m: 1, next day-of-month: On
the <em>10th</em> day of every month n: 2, nth day-of-week: On the
<em>1st</em> <em>Sunday</em> of each month y: 2, day-of-year: On
<em>1</em>/<em>20</em> of each year (mm/dd) a: 1, add-days: <em>14</em>
days after each time the task is completed
</p>
					

					
					<div class="method-source-code"
						id="next-repeat-date-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 76</span>
 76:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">next_repeat_date</span>
 77:     <span class="ruby-ivar">@date</span> = <span class="ruby-keyword kw">nil</span>
 78: 
 79:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">nil?</span>
 80: 
 81:     <span class="ruby-identifier">args</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">':'</span>)
 82:     <span class="ruby-identifier">code</span> = <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>]
 83: 
 84:     <span class="ruby-ivar">@start</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">due_at</span>
 85:     <span class="ruby-ivar">@start</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">utc</span>
 86: 
 87:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">code</span>
 88:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">''</span>  <span class="ruby-keyword kw">then</span>
 89:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'w'</span> <span class="ruby-keyword kw">then</span>
 90:         <span class="ruby-ivar">@date</span> = <span class="ruby-ivar">@start</span> <span class="ruby-operator">+</span> (<span class="ruby-value">7</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@start</span>.<span class="ruby-identifier">wday</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">days</span>
 91:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'m'</span> <span class="ruby-keyword kw">then</span>
 92:         <span class="ruby-ivar">@date</span> = <span class="ruby-ivar">@start</span>.<span class="ruby-identifier">beginning_of_month</span>.<span class="ruby-identifier">next_month</span>.<span class="ruby-identifier">change</span>(<span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>))
 93:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'n'</span> <span class="ruby-keyword kw">then</span>
 94:         <span class="ruby-ivar">@date</span> = <span class="ruby-ivar">@start</span>.<span class="ruby-identifier">beginning_of_month</span>.<span class="ruby-identifier">next_month</span>.<span class="ruby-identifier">change</span>(<span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>)
 95:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&lt;</span> <span class="ruby-ivar">@date</span>.<span class="ruby-identifier">day</span>
 96:         <span class="ruby-identifier">args</span>[<span class="ruby-value">2</span>] = <span class="ruby-identifier">args</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">+</span> <span class="ruby-value">7</span>
 97:       <span class="ruby-keyword kw">end</span>
 98:       <span class="ruby-ivar">@date</span> = <span class="ruby-ivar">@date</span> <span class="ruby-operator">+</span> (<span class="ruby-ivar">@date</span>.<span class="ruby-identifier">day</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@date</span>.<span class="ruby-identifier">wday</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">days</span>
 99:       <span class="ruby-ivar">@date</span> = <span class="ruby-ivar">@date</span> <span class="ruby-operator">+</span> (<span class="ruby-value">7</span> * (<span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>)).<span class="ruby-identifier">days</span>
100:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'l'</span> <span class="ruby-keyword kw">then</span>
101:         <span class="ruby-ivar">@date</span> = <span class="ruby-ivar">@start</span>.<span class="ruby-identifier">next_month</span>.<span class="ruby-identifier">end_of_month</span>
102:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@date</span>.<span class="ruby-identifier">wday</span>
103:         <span class="ruby-ivar">@date</span> = <span class="ruby-ivar">@date</span>.<span class="ruby-identifier">change</span>(<span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@date</span>.<span class="ruby-identifier">day</span> <span class="ruby-operator">-</span> <span class="ruby-value">7</span>)
104:       <span class="ruby-keyword kw">end</span>
105:       <span class="ruby-ivar">@date</span> = <span class="ruby-ivar">@date</span>.<span class="ruby-identifier">change</span>(<span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@date</span>.<span class="ruby-identifier">day</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@date</span>.<span class="ruby-identifier">wday</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>)
106:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'y'</span> <span class="ruby-keyword kw">then</span>
107:         <span class="ruby-ivar">@date</span> = <span class="ruby-ivar">@start</span>.<span class="ruby-identifier">beginning_of_year</span>.<span class="ruby-identifier">change</span>(<span class="ruby-value">:year</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@start</span>.<span class="ruby-identifier">year</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>, <span class="ruby-value">:month</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>, <span class="ruby-value">:day</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">2</span>].<span class="ruby-identifier">to_i</span>)
108:     <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'a'</span> <span class="ruby-keyword kw">then</span>
109:         <span class="ruby-ivar">@date</span> = <span class="ruby-ivar">@start</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">days</span>
110:     <span class="ruby-keyword kw">end</span>
111:     <span class="ruby-ivar">@date</span>.<span class="ruby-identifier">change</span>(<span class="ruby-value">:hour</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">23</span>, <span class="ruby-value">:min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">59</span>)
112:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="notify-emails-array-method" class="method-detail ">
				<a name="method-i-notify_emails_array"></a>

				<div class="method-heading">
				
					<span class="method-name">notify_emails_array</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="notify-emails-array-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 536</span>
536:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">notify_emails_array</span>
537:     (<span class="ruby-identifier">notify_emails</span> <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/$| |,/</span>).<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">email</span><span class="ruby-operator">|</span> <span class="ruby-identifier">email</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">email</span>.<span class="ruby-identifier">strip</span> }.<span class="ruby-identifier">compact</span>
538:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="open--method" class="method-detail ">
				<a name="method-i-open%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">open?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="open--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 277</span>
277:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">open?</span>
278:     <span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
279:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="order-date-method" class="method-detail ">
				<a name="method-i-order_date"></a>

				<div class="method-heading">
				
					<span class="method-name">order_date</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="order-date-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 434</span>
434:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">order_date</span>
435:     [<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">created_at</span>.<span class="ruby-identifier">to_i</span>]
436:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="overdue--method" class="method-detail ">
				<a name="method-i-overdue%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">overdue?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="overdue--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 301</span>
301:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">overdue?</span>
302:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">due_date</span> <span class="ruby-operator">?</span> (<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">due_date</span>.<span class="ruby-identifier">to_time</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">utc</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">false</span>
303:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="owners-to-display-method" class="method-detail ">
				<a name="method-i-owners_to_display"></a>

				<div class="method-heading">
				
					<span class="method-name">owners_to_display</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="owners-to-display-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 368</span>
368:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">owners_to_display</span>
369:     <span class="ruby-identifier">o</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">owners</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">u</span><span class="ruby-operator">|</span> <span class="ruby-identifier">u</span>.<span class="ruby-identifier">name</span>}.<span class="ruby-identifier">join</span>(<span class="ruby-value str">', '</span>)
370:     <span class="ruby-identifier">o</span> = <span class="ruby-value str">&quot;Unassigned&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">o</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
371:     <span class="ruby-identifier">o</span>
372:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="parse-repeat-method" class="method-detail ">
				<a name="method-i-parse_repeat"></a>

				<div class="method-heading">
				
					<span class="method-name">parse_repeat</span><span
						class="method-args">(r)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="parse-repeat-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 145</span>
145:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_repeat</span>(<span class="ruby-identifier">r</span>)
146:     <span class="ruby-comment cmt"># every monday</span>
147:     <span class="ruby-comment cmt"># every 15th</span>
148: 
149:     <span class="ruby-comment cmt"># every last monday</span>
150: 
151:     <span class="ruby-comment cmt"># every 3rd tuesday</span>
152:     <span class="ruby-comment cmt"># every 1st may</span>
153:     <span class="ruby-comment cmt"># every 12 days</span>
154: 
155:     <span class="ruby-identifier">r</span> = <span class="ruby-identifier">r</span>.<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">downcase</span>
156: 
157:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">r</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span>(<span class="ruby-value">1</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">_</span>(<span class="ruby-value str">'every'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>).<span class="ruby-identifier">length</span>)] <span class="ruby-operator">==</span> <span class="ruby-identifier">_</span>(<span class="ruby-value str">'every'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>
158: 
159:     <span class="ruby-identifier">tokens</span> = <span class="ruby-identifier">r</span>[((<span class="ruby-identifier">_</span>(<span class="ruby-value str">'every'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot; &quot;</span>).<span class="ruby-identifier">length</span>)<span class="ruby-operator">..</span><span class="ruby-value">1</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">' '</span>)
160: 
161:     <span class="ruby-identifier">mode</span> = <span class="ruby-value str">&quot;&quot;</span>
162:     <span class="ruby-identifier">args</span> = []
163: 
164:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
165: 
166:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">_</span>(<span class="ruby-value str">'day'</span>)
167:         <span class="ruby-comment cmt"># every day</span>
168:         <span class="ruby-identifier">mode</span> = <span class="ruby-value str">&quot;a&quot;</span>
169:         <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>] = <span class="ruby-value str">'1'</span>
170:       <span class="ruby-keyword kw">end</span>
171: 
172:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mode</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
173:         <span class="ruby-comment cmt"># every friday</span>
174:         <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">DAYNAMES</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
175:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">DAYNAMES</span>[<span class="ruby-identifier">d</span>].<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>]
176:             <span class="ruby-identifier">mode</span> = <span class="ruby-value str">&quot;w&quot;</span>
177:             <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">d</span>
178:             <span class="ruby-keyword kw">break</span>
179:           <span class="ruby-keyword kw">end</span>
180:         <span class="ruby-keyword kw">end</span>
181:       <span class="ruby-keyword kw">end</span>
182: 
183:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mode</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
184:         <span class="ruby-comment cmt">#every 15th</span>
185:         <span class="ruby-value">1</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-constant">REPEAT_DATE</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
186:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">REPEAT_DATE</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>]
187:             <span class="ruby-identifier">mode</span> = <span class="ruby-value str">'m'</span>
188:             <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">i</span>
189:             <span class="ruby-keyword kw">break</span>
190:           <span class="ruby-keyword kw">end</span>
191:         <span class="ruby-keyword kw">end</span>
192:       <span class="ruby-keyword kw">end</span>
193: 
194:     <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">tokens</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>
195: 
196:       <span class="ruby-comment cmt"># every 2nd wednesday</span>
197:       <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">DAYNAMES</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
198:         <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">DAYNAMES</span>[<span class="ruby-identifier">d</span>].<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>]
199:           <span class="ruby-value">1</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-constant">REPEAT_DATE</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
200:             <span class="ruby-keyword kw">if</span> <span class="ruby-constant">REPEAT_DATE</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">include?</span> <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>]
201:               <span class="ruby-identifier">mode</span> = <span class="ruby-value str">'n'</span>
202:               <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">i</span>
203:               <span class="ruby-identifier">args</span>[<span class="ruby-value">1</span>] = <span class="ruby-identifier">d</span>
204:               <span class="ruby-keyword kw">break</span>;
205:             <span class="ruby-keyword kw">end</span>
206:           <span class="ruby-keyword kw">end</span>
207:         <span class="ruby-keyword kw">end</span>
208:       <span class="ruby-keyword kw">end</span>
209: 
210:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mode</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
211:         <span class="ruby-comment cmt"># every 14 days</span>
212:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">_</span>(<span class="ruby-value str">'days'</span>)
213:           <span class="ruby-identifier">mode</span> = <span class="ruby-value str">'a'</span>
214:           <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">to_i</span>
215:         <span class="ruby-keyword kw">end</span>
216:       <span class="ruby-keyword kw">end</span>
217: 
218:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mode</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
219:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tokens</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">_</span>(<span class="ruby-value str">'last'</span>)
220:           <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">DAYNAMES</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
221:             <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Date</span><span class="ruby-operator">::</span><span class="ruby-constant">DAYNAMES</span>[<span class="ruby-identifier">d</span>].<span class="ruby-identifier">downcase</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">tokens</span>[<span class="ruby-value">1</span>]
222:               <span class="ruby-identifier">mode</span> = <span class="ruby-value str">'l'</span>
223:               <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>] = <span class="ruby-identifier">d</span>
224:               <span class="ruby-keyword kw">break</span>
225:             <span class="ruby-keyword kw">end</span>
226:           <span class="ruby-keyword kw">end</span>
227:         <span class="ruby-keyword kw">end</span>
228:       <span class="ruby-keyword kw">end</span>
229: 
230:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mode</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;&quot;</span>
231:         <span class="ruby-comment cmt"># every may 15th / every 15th of may</span>
232: 
233:       <span class="ruby-keyword kw">end</span>
234: 
235:     <span class="ruby-keyword kw">end</span>
236:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">mode</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>
237:       <span class="ruby-node">&quot;#{mode}:#{args.join ':'}&quot;</span>
238:     <span class="ruby-keyword kw">else</span>
239:       <span class="ruby-value str">&quot;&quot;</span>
240:     <span class="ruby-keyword kw">end</span>
241:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="properties--method" class="method-detail ">
				<a name="method-i-properties%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">properties=</span><span
						class="method-args">(params)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Sets up custom properties using the given form params
</p>
					

					
					<div class="method-source-code"
						id="properties--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 439</span>
439:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">properties=</span>(<span class="ruby-identifier">params</span>)
440:     <span class="ruby-identifier">ids</span>=[]
441:     <span class="ruby-identifier">attributes</span>= <span class="ruby-identifier">params</span>.<span class="ruby-identifier">collect</span> {  <span class="ruby-operator">|</span><span class="ruby-identifier">prop_id</span>, <span class="ruby-identifier">val_id</span><span class="ruby-operator">|</span>
442:       <span class="ruby-identifier">task_property_value</span>= <span class="ruby-identifier">task_property_values</span>.<span class="ruby-identifier">find_by_property_id</span>(<span class="ruby-identifier">prop_id</span>)
443:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">task_property_value</span>.<span class="ruby-identifier">nil?</span>
444:         <span class="ruby-identifier">hash</span>={ <span class="ruby-value">:property_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">prop_id</span>, <span class="ruby-value">:property_value_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">val_id</span>}
445:       <span class="ruby-keyword kw">else</span>
446:         <span class="ruby-identifier">ids</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">task_property_value</span>.<span class="ruby-identifier">id</span>
447:         <span class="ruby-identifier">hash</span>={ <span class="ruby-value">:id=</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">task_property_value</span>.<span class="ruby-identifier">id</span> }
448:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">val_id</span>.<span class="ruby-identifier">blank?</span>
449:           <span class="ruby-identifier">hash</span>[<span class="ruby-value">:_destroy</span>]= <span class="ruby-value">1</span>
450:         <span class="ruby-keyword kw">else</span>
451:           <span class="ruby-identifier">hash</span>[<span class="ruby-value">:property_id</span>]=<span class="ruby-identifier">prop_id</span>
452:           <span class="ruby-identifier">hash</span>[<span class="ruby-value">:property_value_id</span>]=<span class="ruby-identifier">val_id</span>
453:         <span class="ruby-keyword kw">end</span>
454:       <span class="ruby-keyword kw">end</span>
455:       <span class="ruby-identifier">hash</span>
456:     }
457:     <span class="ruby-identifier">attributes</span> <span class="ruby-operator">+=</span> (<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">task_property_values</span>.<span class="ruby-identifier">collect</span>(&amp;<span class="ruby-value">:id</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">ids</span>).<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">id</span><span class="ruby-operator">|</span> { <span class="ruby-value">:id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">id</span>, <span class="ruby-value">:_destroy=</span><span class="ruby-operator">&gt;</span><span class="ruby-value">1</span>} }
458:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">task_property_values_attributes</span>= <span class="ruby-identifier">attributes</span>
459:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="property-value-method" class="method-detail ">
				<a name="method-i-property_value"></a>

				<div class="method-heading">
				
					<span class="method-name">property_value</span><span
						class="method-args">(property)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the value of the given property for this task
</p>
					

					
					<div class="method-source-code"
						id="property-value-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 483</span>
483:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">property_value</span>(<span class="ruby-identifier">property</span>)
484:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">property</span>
485: 
486:     <span class="ruby-identifier">tpv</span> = <span class="ruby-identifier">task_property_values</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">tpv</span><span class="ruby-operator">|</span> <span class="ruby-identifier">tpv</span>.<span class="ruby-identifier">property</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">property</span>.<span class="ruby-identifier">id</span> }
487:     <span class="ruby-identifier">tpv</span>.<span class="ruby-identifier">property_value</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tpv</span>
488:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="repeat-summary-method" class="method-detail ">
				<a name="method-i-repeat_summary"></a>

				<div class="method-heading">
				
					<span class="method-name">repeat_summary</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="repeat-summary-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 122</span>
122:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">repeat_summary</span>
123:     <span class="ruby-keyword kw">return</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">nil?</span>
124: 
125:     <span class="ruby-identifier">args</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">repeat</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">':'</span>)
126:     <span class="ruby-identifier">code</span> = <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>]
127: 
128:     <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">code</span>
129:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">''</span>
130:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'w'</span>
131:       <span class="ruby-node">&quot;#{_'every'} #{_(Date::DAYNAMES[args[1].to_i]).downcase}&quot;</span>
132:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'m'</span>
133:       <span class="ruby-node">&quot;#{_'every'} #{REPEAT_DATE[args[1].to_i][0]}&quot;</span>
134:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'n'</span>
135:       <span class="ruby-node">&quot;#{_'every'} #{REPEAT_DATE[args[1].to_i][0]} #{_(Date::DAYNAMES[args[2].to_i]).downcase}&quot;</span>
136:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'l'</span>
137:       <span class="ruby-node">&quot;#{_'every'} #{_'last'} #{_(Date::DAYNAMES[args[2].to_i]).downcase}&quot;</span>
138:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'y'</span>
139:       <span class="ruby-node">&quot;#{_'every'} #{args[1].to_i}/#{args[2].to_i}&quot;</span>
140:       <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'a'</span>
141:       <span class="ruby-node">&quot;#{_'every'} #{args[1]} #{_ 'days'}&quot;</span>
142:     <span class="ruby-keyword kw">end</span>
143:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="resolved--method" class="method-detail ">
				<a name="method-i-resolved%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">resolved?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="resolved--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 274</span>
274:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resolved?</span>
275:     <span class="ruby-identifier">status</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
276:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-default-properties-method" class="method-detail ">
				<a name="method-i-set_default_properties"></a>

				<div class="method-heading">
				
					<span class="method-name">set_default_properties</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
set default properties for new task
</p>
					

					
					<div class="method-source-code"
						id="set-default-properties-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 462</span>
462:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_default_properties</span>
463:     <span class="ruby-identifier">task_property_values</span>.<span class="ruby-identifier">clear</span>
464:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">properties</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">property</span><span class="ruby-operator">|</span>
465:       <span class="ruby-identifier">task_property_values</span>.<span class="ruby-identifier">build</span>(<span class="ruby-value">:property_id=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">property</span>.<span class="ruby-identifier">id</span>, <span class="ruby-value">:property_value_id=</span><span class="ruby-operator">&gt;</span> <span class="ruby-identifier">property</span>.<span class="ruby-identifier">default_value</span>.<span class="ruby-identifier">id</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">property</span>.<span class="ruby-identifier">default_value</span>.<span class="ruby-identifier">nil?</span>
466:     <span class="ruby-keyword kw">end</span>
467:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-property-value-method" class="method-detail ">
				<a name="method-i-set_property_value"></a>

				<div class="method-heading">
				
					<span class="method-name">set_property_value</span><span
						class="method-args">(property, property_value)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="set-property-value-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 469</span>
469:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_property_value</span>(<span class="ruby-identifier">property</span>, <span class="ruby-identifier">property_value</span>)
470:     <span class="ruby-comment cmt"># remove the current one if it exists</span>
471:     <span class="ruby-identifier">existing</span> = <span class="ruby-identifier">task_property_values</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">tpv</span><span class="ruby-operator">|</span> <span class="ruby-identifier">tpv</span>.<span class="ruby-identifier">property</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">property</span> }
472:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">existing</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">existing</span>.<span class="ruby-identifier">property_value</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">property_value</span>
473:       <span class="ruby-identifier">task_property_values</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">existing</span>)
474:     <span class="ruby-keyword kw">end</span>
475: 
476:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">property_value</span>
477:       <span class="ruby-comment cmt"># only create a new one if property_value is set</span>
478:       <span class="ruby-identifier">task_property_values</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:property_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">property</span>.<span class="ruby-identifier">id</span>, <span class="ruby-value">:property_value_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">property_value</span>.<span class="ruby-identifier">id</span>)
479:     <span class="ruby-keyword kw">end</span>
480:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-tags-method" class="method-detail ">
				<a name="method-i-set_tags"></a>

				<div class="method-heading">
				
					<span class="method-name">set_tags</span><span
						class="method-args">( tagstring )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="set-tags-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 374</span>
374:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_tags</span>( <span class="ruby-identifier">tagstring</span> )
375:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">tagstring</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span>  <span class="ruby-identifier">tagstring</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">' '</span>,<span class="ruby-value str">''</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">tagstring</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">' '</span>,<span class="ruby-value str">''</span>))
376:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">clear</span>
377:     <span class="ruby-identifier">tagstring</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">','</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
378:       <span class="ruby-identifier">tag_name</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">strip</span>
379: 
380:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tag_name</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
381:         <span class="ruby-keyword kw">next</span>
382:       <span class="ruby-keyword kw">end</span>
383: 
384:       <span class="ruby-identifier">tag</span> = <span class="ruby-constant">Company</span>.<span class="ruby-identifier">find</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">company_id</span>).<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">find_or_create_by_name</span>(<span class="ruby-identifier">tag_name</span>)
385:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">tags</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">tag</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">tag</span>)
386:     <span class="ruby-keyword kw">end</span>
387:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">save</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">tags</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-comment cmt">#ugly, trigger tag save callback, needed to cache sweeper</span>
388:     <span class="ruby-keyword kw">true</span>
389:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-tags--method" class="method-detail ">
				<a name="method-i-set_tags%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">set_tags=</span><span
						class="method-args">( tagstring )</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="set-tags--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 393</span>
393:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_tags=</span>( <span class="ruby-identifier">tagstring</span> )
394:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">set_tags</span>(<span class="ruby-identifier">tagstring</span>)
395:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-task-read-method" class="method-detail ">
				<a name="method-i-set_task_read"></a>

				<div class="method-heading">
				
					<span class="method-name">set_task_read</span><span
						class="method-args">(user, status=true)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
let children redefine read statuses
</p>
					

					
					<div class="method-source-code"
						id="set-task-read-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 68</span>
68:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_task_read</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">status</span>=<span class="ruby-keyword kw">true</span>); <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-users-dependencies-resources-method" class="method-detail ">
				<a name="method-i-set_users_dependencies_resources"></a>

				<div class="method-heading">
				
					<span class="method-name">set_users_dependencies_resources</span><span
						class="method-args">(params, current_user)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="set-users-dependencies-resources-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 490</span>
490:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_users_dependencies_resources</span>(<span class="ruby-identifier">params</span>, <span class="ruby-identifier">current_user</span>)
491:     <span class="ruby-identifier">set_users</span>(<span class="ruby-identifier">params</span>)
492:     <span class="ruby-identifier">set_dependency_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-value">:dependencies</span>], <span class="ruby-identifier">current_user</span>)
493:     <span class="ruby-identifier">set_resource_attributes</span>(<span class="ruby-identifier">params</span>[<span class="ruby-value">:resource</span>])
494:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">attachments</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-value">:delete_files</span>]).<span class="ruby-identifier">each</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">destroy</span> }  <span class="ruby-keyword kw">rescue</span> <span class="ruby-keyword kw">nil</span>
495:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="start-date-method" class="method-detail ">
				<a name="method-i-start_date"></a>

				<div class="method-heading">
				
					<span class="method-name">start_date</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
This method return <a
href="AbstractTask.html#method-i-due_date">due_date</a> - duration It used
only to display task in calendar. <a href="User.html">User</a> should not
start work on task when <a
href="AbstractTask.html#method-i-start_date">start_date</a> come. For date
when user should start work on task we have schedule controller. Again, do
not use this method outside calendar view. And this method should be
removed when schedule code will be fixed.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="start-date-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 311</span>
311:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start_date</span>
312:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">due_date</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">duration</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">due_date</span>.<span class="ruby-identifier">nil?</span>)
313:     <span class="ruby-identifier">due_date</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">duration</span><span class="ruby-operator">/</span>(<span class="ruby-value">60</span>*<span class="ruby-value">8</span>)).<span class="ruby-identifier">to_i</span>.<span class="ruby-identifier">days</span>
314:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="status-name-method" class="method-detail ">
				<a name="method-i-status_name"></a>

				<div class="method-heading">
				
					<span class="method-name">status_name</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="status-name-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 356</span>
356:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">status_name</span>
357:     <span class="ruby-node">&quot;#{self.issue_num} #{self.name}&quot;</span>
358:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="status-type-method" class="method-detail ">
				<a name="method-i-status_type"></a>

				<div class="method-heading">
				
					<span class="method-name">status_type</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="status-type-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 360</span>
360:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">status_type</span>
361:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">company</span>.<span class="ruby-identifier">statuses</span>[<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">status</span>].<span class="ruby-identifier">name</span>
362:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="statuses-for-select-list-method" class="method-detail ">
				<a name="method-i-statuses_for_select_list"></a>

				<div class="method-heading">
				
					<span class="method-name">statuses_for_select_list</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="statuses-for-select-list-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 533</span>
533:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">statuses_for_select_list</span>
534:     <span class="ruby-identifier">company</span>.<span class="ruby-identifier">statuses</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">s</span>.<span class="ruby-identifier">name</span>]}.<span class="ruby-identifier">each_with_index</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">s</span>,<span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span><span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">i</span> }
535:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="tagstring-method" class="method-detail ">
				<a name="method-i-tagstring"></a>

				<div class="method-heading">
				
					<span class="method-name">tagstring</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="tagstring-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 390</span>
390:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">tagstring</span>
391:     <span class="ruby-identifier">tags</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">', '</span>)
392:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="to-s-method" class="method-detail ">
				<a name="method-i-to_s"></a>

				<div class="method-heading">
				
					<span class="method-name">to_s</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="to-s-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 401</span>
401:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
402:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">name</span>
403:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="to-tip-method" class="method-detail ">
				<a name="method-i-to_tip"></a>

				<div class="method-heading">
				
					<span class="method-name">to_tip</span><span
						class="method-args">(options = { })</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="to-tip-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 245</span>
245:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_tip</span>(<span class="ruby-identifier">options</span> = { })
246:     <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@tip</span>
247:       <span class="ruby-identifier">owners</span> = <span class="ruby-value str">&quot;No one&quot;</span>
248:       <span class="ruby-identifier">owners</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">users</span>.<span class="ruby-identifier">collect</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">u</span><span class="ruby-operator">|</span> <span class="ruby-identifier">u</span>.<span class="ruby-identifier">name</span>}.<span class="ruby-identifier">join</span>(<span class="ruby-value str">', '</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">users</span>.<span class="ruby-identifier">empty?</span>
249: 
250:       <span class="ruby-identifier">res</span> = <span class="ruby-value str">&quot;&lt;table id=\&quot;task_tooltip\&quot; cellpadding=0 cellspacing=0&gt;&quot;</span>
251:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th&gt;#{_('Summary')}&lt;/td&gt;&lt;td&gt;#{escape_twice(self.name)}&lt;/tr&gt;&quot;</span>
252:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th&gt;#{_('Project')}&lt;/td&gt;&lt;td&gt;#{escape_twice(self.project.full_name)}&lt;/td&gt;&lt;/tr&gt;&quot;</span>
253:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th&gt;#{_('Tags')}&lt;/td&gt;&lt;td&gt;#{escape_twice(self.full_tags_without_links)}&lt;/td&gt;&lt;/tr&gt;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">full_tags_without_links</span>.<span class="ruby-identifier">blank?</span>
254:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th&gt;#{_('Assigned To')}&lt;/td&gt;&lt;td&gt;#{escape_twice(owners)}&lt;/td&gt;&lt;/tr&gt;&quot;</span>
255:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th&gt;#{_('Requested By')}&lt;/td&gt;&lt;td&gt;#{escape_twice(self.requested_by)}&lt;/td&gt;&lt;/tr&gt;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">requested_by</span>.<span class="ruby-identifier">blank?</span>
256:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th&gt;#{_('Resolution')}&lt;/td&gt;&lt;td&gt;#{_(self.status_type)}&lt;/td&gt;&lt;/tr&gt;&quot;</span>
257:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th&gt;#{_('Milestone')}&lt;/td&gt;&lt;td&gt;#{escape_twice(self.milestone.name)}&lt;/td&gt;&lt;/tr&gt;&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">milestone_id</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
258:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th&gt;#{_('Completed')}&lt;/td&gt;&lt;td&gt;#{options[:user].tz.utc_to_local(self.completed_at).strftime_localized(options[:user].date_format)}&lt;/td&gt;&lt;/tr&gt;&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">completed_at</span>
259:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th&gt;#{_('Due Date')}&lt;/td&gt;&lt;td&gt;#{options[:user].tz.utc_to_local(due).strftime_localized(options[:user].date_format)}&lt;/td&gt;&lt;/tr&gt;&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">due</span>
260:       <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">empty?</span>
261:         <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th valign=\&quot;top\&quot;&gt;#{_('Dependencies')}&lt;/td&gt;&lt;td&gt;#{escape_twice(self.dependencies.collect { |t| t.issue_name }.join('&lt;br /&gt;'))}&lt;/td&gt;&lt;/tr&gt;&quot;</span>
262:       <span class="ruby-keyword kw">end</span>
263:       <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dependants</span>.<span class="ruby-identifier">empty?</span>
264:         <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th valign=\&quot;top\&quot;&gt;#{_('Depended on by')}&lt;/td&gt;&lt;td&gt;#{escape_twice(self.dependants.collect { |t| t.issue_name }.join('&lt;br /&gt;'))}&lt;/td&gt;&lt;/tr&gt;&quot;</span>
265:       <span class="ruby-keyword kw">end</span>
266:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th&gt;#{_('Progress')}&lt;/td&gt;&lt;td&gt;#{format_duration(self.worked_minutes, options[:duration_format], options[:workday_duration], options[:days_per_week])} / #{format_duration( self.duration.to_i, options[:duration_format], options[:workday_duration], options[:days_per_week] )}&lt;/tr&gt;&quot;</span>
267:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;tr&gt;&lt;th&gt;#{_('Description')}&lt;/th&gt;&lt;td class=\&quot;tip_description\&quot;&gt;#{escape_twice(self.description_wrapped).gsub(/\n/, '&lt;br/&gt;')}&lt;/td&gt;&lt;/tr&gt;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">description</span>.<span class="ruby-identifier">blank?</span>
268:       <span class="ruby-identifier">res</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;/table&gt;&quot;</span>
269:       <span class="ruby-ivar">@tip</span> = <span class="ruby-identifier">res</span>
270:     <span class="ruby-keyword kw">end</span>
271:     <span class="ruby-ivar">@tip</span>
272:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="todo-count-method" class="method-detail ">
				<a name="method-i-todo_count"></a>

				<div class="method-heading">
				
					<span class="method-name">todo_count</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="todo-count-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 430</span>
430:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">todo_count</span>
431:     <span class="ruby-node">&quot;#{sprintf(&quot;%d/%d&quot;, todos.select{|t| t.completed_at }.size, todos.size)}&quot;</span>
432:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="todo-status-method" class="method-detail ">
				<a name="method-i-todo_status"></a>

				<div class="method-heading">
				
					<span class="method-name">todo_status</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="todo-status-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 426</span>
426:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">todo_status</span>
427:     <span class="ruby-identifier">todos</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot;[#{_'To-do'}]&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;[#{sprintf(&quot;%.2f%%&quot;, todos.select{|t| t.completed_at }.size / todos.size.to_f * 100.0)}]&quot;</span>
428:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="unread--method" class="method-detail ">
				<a name="method-i-unread%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">unread?</span><span
						class="method-args">(user)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="unread--source">
<pre>
    <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 69</span>
69:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">unread?</span>(<span class="ruby-identifier">user</span>); <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="validate-properties-method" class="method-detail ">
				<a name="method-i-validate_properties"></a>

				<div class="method-heading">
				
					<span class="method-name">validate_properties</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Custom validation for tasks.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="validate-properties-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 499</span>
499:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">validate_properties</span>
500:     <span class="ruby-identifier">res</span> = <span class="ruby-keyword kw">true</span>
501: 
502:     <span class="ruby-identifier">mandatory_properties</span> = <span class="ruby-identifier">company</span>.<span class="ruby-identifier">properties</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">mandatory?</span> }
503:     <span class="ruby-identifier">mandatory_properties</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
504:       <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">property_value</span>(<span class="ruby-identifier">p</span>)
505:         <span class="ruby-identifier">res</span> = <span class="ruby-keyword kw">false</span>
506:         <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">add_to_base</span>(<span class="ruby-identifier">_</span>(<span class="ruby-value str">&quot;%s is required&quot;</span>, <span class="ruby-identifier">p</span>.<span class="ruby-identifier">name</span>))
507:       <span class="ruby-keyword kw">end</span>
508:     <span class="ruby-keyword kw">end</span>
509: 
510:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">res</span>
511:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="will-not-fix--method" class="method-detail ">
				<a name="method-i-will_not_fix%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">will_not_fix?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="will-not-fix--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 284</span>
284:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">will_not_fix?</span>
285:     <span class="ruby-identifier">status</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>
286:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="set-dependency-attributes-method" class="method-detail ">
				<a name="method-i-set_dependency_attributes"></a>

				<div class="method-heading">
				
					<span class="method-name">set_dependency_attributes</span><span
						class="method-args">(dependency_params, user)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Sets the dependencies of this this from dependency_params. Existing and
unused dependencies WILL be cleared by this method, only if user has access
to this dependencies
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="set-dependency-attributes-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 619</span>
619:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_dependency_attributes</span>(<span class="ruby-identifier">dependency_params</span>, <span class="ruby-identifier">user</span>)
620:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">dependency_params</span>.<span class="ruby-identifier">nil?</span>
621: 
622:     <span class="ruby-identifier">new_dependencies</span> = []
623:     <span class="ruby-identifier">dependency_params</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span>
624:       <span class="ruby-identifier">d</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;,&quot;</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span>
625:         <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">strip!</span>
626:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
627:         <span class="ruby-identifier">t</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">accessed_by</span>(<span class="ruby-identifier">user</span>).<span class="ruby-identifier">find_by_task_num</span>(<span class="ruby-identifier">dep</span>)
628:         <span class="ruby-identifier">new_dependencies</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">t</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">t</span>
629:       <span class="ruby-keyword kw">end</span>
630:     <span class="ruby-keyword kw">end</span>
631: 
632:     <span class="ruby-identifier">removed</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">accessed_by</span>(<span class="ruby-identifier">user</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">new_dependencies</span>
633:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">removed</span>)
634: 
635:     <span class="ruby-identifier">new_dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
636:       <span class="ruby-identifier">existing</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span> <span class="ruby-identifier">d</span>.<span class="ruby-identifier">id</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">id</span> }
637:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">dependencies</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">t</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">existing</span>
638:     <span class="ruby-keyword kw">end</span>
639: 
640:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">save</span>
641:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-owner-ids-method" class="method-detail ">
				<a name="method-i-set_owner_ids"></a>

				<div class="method-heading">
				
					<span class="method-name">set_owner_ids</span><span
						class="method-args">(owner_ids)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Sets the owners of this task from owner_ids. Existing owners WILL  be
cleared by this method.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="set-owner-ids-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 571</span>
571:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_owner_ids</span>(<span class="ruby-identifier">owner_ids</span>)
572:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">owner_ids</span>.<span class="ruby-identifier">nil?</span>
573: 
574:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">task_owners</span>.<span class="ruby-identifier">destroy_all</span>
575: 
576:     <span class="ruby-identifier">owner_ids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span>
577:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
578:       <span class="ruby-identifier">u</span> = <span class="ruby-identifier">company</span>.<span class="ruby-identifier">users</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">o</span>.<span class="ruby-identifier">to_i</span>)
579:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">task_owners</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:user</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">u</span>, <span class="ruby-value">:task</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>)
580:     <span class="ruby-keyword kw">end</span>
581:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-resource-attributes-method" class="method-detail ">
				<a name="method-i-set_resource_attributes"></a>

				<div class="method-heading">
				
					<span class="method-name">set_resource_attributes</span><span
						class="method-args">(params)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Sets up any links to resources that should be attached to this task. Clears
any existings links to resources.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="set-resource-attributes-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 601</span>
601:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_resource_attributes</span>(<span class="ruby-identifier">params</span>)
602:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">params</span>
603: 
604:     <span class="ruby-identifier">resources</span>.<span class="ruby-identifier">clear</span>
605: 
606:     <span class="ruby-identifier">ids</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:name</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;,&quot;</span>)
607:     <span class="ruby-identifier">ids</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:ids</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:ids</span>] <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">params</span>[<span class="ruby-value">:ids</span>].<span class="ruby-identifier">any?</span>
608: 
609:     <span class="ruby-identifier">ids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">id</span><span class="ruby-operator">|</span>
610:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">resources</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">company</span>.<span class="ruby-identifier">resources</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>)
611:     <span class="ruby-keyword kw">end</span>
612:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-task-num-method" class="method-detail ">
				<a name="method-i-set_task_num"></a>

				<div class="method-heading">
				
					<span class="method-name">set_task_num</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="set-task-num-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 541</span>
541:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_task_num</span>
542:     <span class="ruby-identifier">company_id</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">company</span>.<span class="ruby-identifier">id</span>
543: 
544:     <span class="ruby-identifier">num</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value str">&quot;company_id = ?&quot;</span>, <span class="ruby-identifier">company_id</span>).<span class="ruby-identifier">maximum</span>(<span class="ruby-value str">'task_num'</span>)
545:     <span class="ruby-identifier">num</span> <span class="ruby-operator">||=</span> <span class="ruby-value">0</span>
546:     <span class="ruby-identifier">num</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>
547: 
548:     <span class="ruby-ivar">@attributes</span>[<span class="ruby-value str">'task_num'</span>] = <span class="ruby-identifier">num</span>
549:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-users-method" class="method-detail ">
				<a name="method-i-set_users"></a>

				<div class="method-heading">
				
					<span class="method-name">set_users</span><span
						class="method-args">(params)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Sets up any task owners or watchers from the given params. Any existings
ones not in the given params will be removed.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="set-users-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 587</span>
587:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_users</span>(<span class="ruby-identifier">params</span>)
588:     <span class="ruby-identifier">all_users</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:users</span>] <span class="ruby-operator">||</span> []
589:     <span class="ruby-identifier">owners</span> = <span class="ruby-identifier">params</span>[<span class="ruby-value">:assigned</span>] <span class="ruby-operator">||</span> []
590:     <span class="ruby-identifier">watchers</span> = <span class="ruby-identifier">all_users</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">owners</span>
591: 
592:     <span class="ruby-identifier">set_owner_ids</span>(<span class="ruby-identifier">owners</span>)
593:     <span class="ruby-identifier">set_watcher_ids</span>(<span class="ruby-identifier">watchers</span>)
594:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="set-watcher-ids-method" class="method-detail ">
				<a name="method-i-set_watcher_ids"></a>

				<div class="method-heading">
				
					<span class="method-name">set_watcher_ids</span><span
						class="method-args">(watcher_ids)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
 
</pre>
<p>
Sets the task watchers for this task. Existing watchers WILL be cleared by
this method.
</p>
<pre>
 </pre>
					

					
					<div class="method-source-code"
						id="set-watcher-ids-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/abstract_task.rb, line 555</span>
555:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_watcher_ids</span>(<span class="ruby-identifier">watcher_ids</span>)
556:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">watcher_ids</span>.<span class="ruby-identifier">nil?</span>
557: 
558:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">task_watchers</span>.<span class="ruby-identifier">destroy_all</span>
559: 
560:     <span class="ruby-identifier">watcher_ids</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">id</span><span class="ruby-operator">|</span>
561:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
562:       <span class="ruby-identifier">user</span> = <span class="ruby-identifier">company</span>.<span class="ruby-identifier">users</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">id</span>)
563:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">task_watchers</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">:user</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">user</span>, <span class="ruby-value">:task</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>)
564:     <span class="ruby-keyword kw">end</span>
565:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

